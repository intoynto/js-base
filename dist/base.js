!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("intoy-chosen"),require("intoy-modal"),require("intoy-select"),require("intoy-utils"),require("intoy-xhr"),require("react")):"function"==typeof define&&define.amd?define("base",["intoy-chosen","intoy-modal","intoy-select","intoy-utils","intoy-xhr","react"],e):"object"==typeof exports?exports.base=e(require("intoy-chosen"),require("intoy-modal"),require("intoy-select"),require("intoy-utils"),require("intoy-xhr"),require("react")):t.base=e(t["intoy-chosen"],t["intoy-modal"],t["intoy-select"],t["intoy-utils"],t["intoy-xhr"],t.react)}(self,(function(t,e,r,n,o,i){return(()=>{"use strict";var a={36:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var f=c(r(156)),p=r(875),d=r(269),h=r(986),y=r(391),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,r,s,u=a(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).updOnDidUpRecord=!1,e.clrDataOnFailed=!1,e.delReqTipe=(0,y.getDefaultDeleteRequestType)(),e.onSetLimit=function(t){null!=t&&t!==e.req.limit&&(e.req.limit=t,e.onReload())},e.lodOv=null,e.onSearch=e.onSearch.bind(l(e)),e.doReload=e.doReload.bind(l(e)),e.onReload=e.onReload.bind(l(e)),e.onInsert=e.onInsert.bind(l(e)),e.onUpdate=e.onUpdate.bind(l(e)),e.onDelete=e.onDelete.bind(l(e)),e.onAftInsert=e.onAftInsert.bind(l(e)),e.onAftUpdate=e.onAftUpdate.bind(l(e)),e.onAftDelete=e.onAftDelete.bind(l(e)),e.doSndDelete=e.doSndDelete.bind(l(e)),e.onSetPage=e.onSetPage.bind(l(e)),e.didUpRecord=e.didUpRecord.bind(l(e)),e.onItemBeforeUpdate=e.onItemBeforeUpdate.bind(l(e)),e.onItemUpdated=e.onItemUpdated.bind(l(e)),e.didUpList=e.didUpList.bind(l(e)),e.handResp=e.handResp.bind(l(e)),e.handSort=e.handSort.bind(l(e)),e.handRespAft=e.handRespAft.bind(l(e)),e.rdrChilds=e.rdrChilds.bind(l(e)),e.rdrFind=e.rdrFind.bind(l(e)),e.rdrTable=e.rdrTable.bind(l(e)),e.rdrPag=e.rdrPag.bind(l(e)),e.search={search:"number"==typeof t.search||"string"==typeof t.search?t.search.toString():""},e.asgFieldShow=2,e.records=[],e.req={page:1,limit:t.limit?t.limit:20,search:{}},e.res={limit:e.req.limit,page:1,pagecount:1,rowcount:0,totalrow:0,records:[]},e.state=e.gInitState(t),e}return e=c,(r=[{key:"gInitState",value:function(t){return{loadedCount:0,loading:!1,error:null}}},{key:"ovOpen",value:function(t){this.lodOv?t&&t.text&&this.lodOv.setText(t.text):(this.lodOv=new p.LoadingOverlay(Object.assign({clickClose:!1},t)),this.lodOv.open())}},{key:"ovClose",value:function(){this.lodOv&&(this.lodOv.destroy(),this.lodOv=null)}},{key:"getIndexArrayObj",value:function(t){var e=t||{},r=-1,o=(0,d.toStr)(e.field).toString().trim();if(!Array.isArray(e.arrayObj)||o.length<1)return r;var i=(0,d.toStr)(e.value).toString().trim();e.sensitive||(i=i.toUpperCase());for(var a=0;a<e.arrayObj.length;a++){var s=e.arrayObj[a];if("object"===n(s)&&!Array.isArray(s)){var l=(0,d.toStr)(s[e.field]).toString().trim();if(e.sensitive||(l=l.toUpperCase().trim()),i===l){r=a;break}}}return r}},{key:"didUpRecord",value:function(t,e,r){t>=0&&r&&Array.isArray(this.records)&&this.records.length>0&&t<=this.records.length-1&&(this.records[t]=Object.assign({},r),this.onItemUpdated(),this.updOnDidUpRecord&&this.forceUpdate())}},{key:"onItemBeforeUpdate",value:function(t){}},{key:"onItemUpdated",value:function(){}},{key:"didUpList",value:function(){}},{key:"handResp",value:function(t){var e=(0,y.baseResAttrGet)();t&&t[e.records]&&Array.isArray(t[e.records])?(this.res=Object.assign({},t),this.res.records=t[e.records].slice(0),this.res.page=void 0!==t[e.page]&&null!==t[e.page]?t[e.page]:1,this.res.pagecount=void 0!==t[e.pagecount]&&null!==t[e.pagecount]?t[e.pagecount]:1,this.res.totalrow=void 0!==t[e.totalrow]&&null!==t[e.totalrow]?t[e.totalrow]:this.res.records.length,this.res.rowcount=void 0!==t[e.rowcount]&&null!==t[e.rowcount]?t[e.rowcount]:this.res.records.length,this.res.limit=void 0!==t[e.limit]&&null!==t[e.limit]?t[e.limit]:this.req.limit,this.res.page=this.res.page<1?1:this.res.page,this.res.pagecount=this.res.pagecount<1?1:this.res.pagecount,this.res.totalrow=this.res.totalrow<0?0:this.res.totalrow,this.res.rowcount=this.res.rowcount<0?0:this.res.rowcount,this.res.rowcount=this.res.rowcount>this.res.totalrow?this.res.totalrow:this.res.rowcount,this.records=this.res.records.slice(0),this.res.records=[]):Array.isArray(t)?(this.records=t.slice(0),this.res.page=1,this.res.pagecount=1,this.res.rowcount=this.records.length,this.res.totalrow=(0,d.toInt)(this.res.totalrow),this.res.totalrow=this.res.totalrow<this.res.rowcount?this.res.rowcount:this.res.totalrow):(this.records=[],this.res.page=1,this.res.pagecount=1,this.res.totalrow=0,this.res.rowcount=0)}},{key:"handSort",value:function(){if(Array.isArray(this.records)&&this.records.length>0&&this.props.table&&void 0!==this.props.table.sortField&&null!==this.props.table.sortField){var t=this.props.table.sortField||"index",e=this.props.table.sortFieldType||"string";this.records.sort((function(r,n){var o=r[t],i=n[t];return["integer","double"].indexOf(e)>=0&&(o=parseFloat(o),i=parseFloat(i)),o>i?1:o<i?-1:0}))}}},{key:"handFilter",value:function(){}},{key:"handRespAft",value:function(){this.setState({loadedCount:this.state.loadedCount+1,loading:!1,error:null})}},{key:"getSetup",value:function(t){var e={url:this.props.url_data?this.props.url_data.toString().trim():""};t&&(e.params=Object.assign({},t));var r=(0,y.getConfigHeader)();return r&&(e.headers=Object.assign({},r)),e}},{key:"doReload",value:function(){var t=this,e=Object.assign({},this.req);this.res.pagecount>0&&e.page>this.res.pagecount&&(e.page=this.res.pagecount);var r=this.getSetup(Object.assign(Object.assign({},e),this.search)),n=(0,y.getConfigHeader)();n&&(r.headers=Object.assign({},n)),(0,h.ajax)(r).then((function(e){t.handResp(e),t.handSort(),t.handFilter(),t.handRespAft()})).catch((function(e){t.clrDataOnFailed&&(t.records=[]),t.setState({loadedCount:t.state.loadedCount+1,loading:!1})}))}},{key:"onReload",value:function(){this.state.loading&&console.warn("Base multiple calling reload at sometime"),this.setState({loading:!0},this.doReload)}},{key:"onSearch",value:function(t){(0,d.isEqual)(this.search,t)||(this.search=Object.assign({},t),this.req.page=1,this.onReload())}},{key:"onAftInsert",value:function(t){this.didUpList(),this.onReload()}},{key:"onInsert",value:function(){var t=this,e=this.props.compForm;e&&e().then((function(e){t.onAftInsert(e)}))}},{key:"onAftUpdate",value:function(t){this.didUpList(),this.onReload()}},{key:"onUpdate",value:function(t){var e=this,r=this.props.compForm;r&&r({data:t}).then((function(t){e.onAftUpdate(t)}))}},{key:"onAftDelete",value:function(t,e,r){var n=!0===this.props.reloadOnDeleted,o=-1;if(n||(o=this.getIndexArrayObj({arrayObj:this.records,field:e,value:r})),o>=0&&!n){if(this.records.splice(o,1),this.records.length>0)return this.didUpList(),void this.forceUpdate();n=!0}this.didUpList(),this.onReload()}},{key:"getMsgDel",value:function(t){if(!t)return"";var e=this.props.table||{},r=e.fieldid,n="",o=[],i="";if(r&&t[r],(0,d.toStr)(e.dataName).toString().trim().length>0&&(i=(0,d.toStr)(e.dataName).toString().trim()),e.fields&&e.fields.length>0)for(var a=0;a<e.fields.length;a++){var s=e.fields[a],l=(0,d.toStr)(t[s.f]);if(l.length>0){l.length>50&&(l=l.substring(0,50)+"..");var u=(0,d.toStr)(e.fields[a].alias),c="<b>"+l+"</b>";u.length>0&&(c=u+" "+c),o.push(c)}if(o.length>=this.asgFieldShow)break}return i.length>0&&(n+=(0,d.toUcWords)(i)),o.length>0&&(n.length>0?n+=" item":n+="Item",n+=" data "+o.join(", ")),n+=" akan dihapus."}},{key:"getSetupDel",value:function(t){var e=this,r=this.props,n={url:this.props.url_delete?this.props.url_delete.toString().trim():"",params:t,method:"POST"};return"qparams"===this.delReqTipe?function(){var e=r.table&&r.table.fieldid?r.table.fieldid:null;e="string"==typeof e?(e=(0,d.toStr)(e)).length>0?[e]:[]:Array.isArray(e)?e:[];var o=(0,d.rTrim)((0,d.toStr)(r.url_delete),"/");o+="?"!==o[o.length-1]?"?":"",n.method="delete",n.params={},t=t||{};for(var i=0;i<e.length;i++){var a=e[i],s=(0,d.toStr)(t[a]).toString().trim();s.length>0&&(n.params[a]=s)}var l=new URLSearchParams(n.params);delete n.params,n.url=o+l.toString()}():function(){var r=e.props.table||{},o=r.fieldid?r.fieldid:"";o=Array.isArray(o)?o:[o];for(var i=[],a=[],s={},l=0;l<o.length;l++){var u=(0,d.toStr)(o[l]),c=u.length>0?(0,d.toStr)(t[u]).toString().trim():"";c.length>0&&(i.push(u),a.push(c),s[u]=c)}a.length>0&&(n.method="DELETE",n.url+="/"+a.join("/"),delete n.params);var f=(0,y.getConfigHeader)();f&&(n.headers=f)}(),n}},{key:"doSndDelete",value:function(t){var e=this;this.setState({loading:!0},(function(){var r=e.props.table||{},n=r.fieldid?r.fieldid:"";e.ovOpen({text:"Menghapus,.."}),(0,h.ajax)(t).then((function(r){e.ovClose(),e.setState({loading:!1},(function(){e.onAftDelete(t.params,n,r)}))})).catch((function(t){e.ovClose(),(0,y.handleAlertErrorBase)(t),e.setState({loading:!1})}))}))}},{key:"onDelete",value:function(t){var e=this,r=this.getMsgDel(t),n="Terkait data dimaksud ada kemungkinan akan ikut terhapus. <br/>&nbsp;<br/>Apakah Anda setuju?";r+=(r+" "+n).length>100?"<br/>":" ",r+=n,(0,p.AlertExclam)("Konfirmasi Hapus",r,'<i class="fa fa-hand-stop-o"> </i> Tidak',(function(){}),'<i class="fa fa-thumbs-o-up"> </i> Iya setuju hapus',(function(){var r=e.getSetupDel(t);e.doSndDelete(r)}))}},{key:"onSetPage",value:function(t){if(this.state.loading)return!1;(t=(t=(t=(0,d.toInt)(t))<1?1:t)>this.res.pagecount?this.res.pagecount:t)!==this.res.page&&(this.req.page=t,this.onReload())}},{key:"getFndProps",value:function(){return{useInsert:this.props.useInsert,search:Object.assign({},this.search),onSearch:this.onSearch,onReload:this.onReload,onInsert:this.onInsert,onSetLimit:this.onSetLimit,limit:this.req.limit,loading:this.state.loading}}},{key:"getTblProps",value:function(){return{useUpdate:this.props.useUpdate,useDelete:this.props.useDelete,onUpdate:this.onUpdate,onDelete:this.onDelete,onReload:this.onReload,table:this.props.table,records:this.records,page:this.res.page,limit:this.req.limit,loading:this.state.loading}}},{key:"getPagProps",value:function(){return{page:this.res.page,pagecount:this.res.pagecount,rowcount:this.res.rowcount,limit:this.res.limit,totalrow:this.res.totalrow,onSetPage:this.onSetPage,dsLeft:!0,dsRight:!0}}},{key:"rdrFind",value:function(){var t=this.props.compFind;if(t){var e=this.getFndProps();return f.default.createElement(t,Object.assign({},e))}}},{key:"rdrTable",value:function(){var t=this.props.compTbl;if(t){var e=this.getTblProps();return f.default.createElement(t,Object.assign({},e))}}},{key:"rdrPag",value:function(){if(this.res.pagecount<=1)return null;var t=this.props.compPag;if(t){var e=this.getPagProps();return f.default.createElement(t,Object.assign({},e))}}},{key:"rdrChilds",value:function(){return[this.rdrFind(),this.rdrTable(),this.rdrPag()]}},{key:"render",value:function(){var t=this.state.loading;return f.default.createElement("div",{className:"base"+(this.props.className?" "+this.props.className:"")+(t?" loading":"")},this.rdrChilds())}},{key:"componentDidMount",value:function(){this.onReload()}}])&&o(e.prototype,r),s&&o(e,s),c}(f.default.Component);e.Base=g},423:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseFind=void 0;var f=c(r(156)),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(u,t);var e,r,n,s=a(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this,t)).textInsert="",e.textReload="",e.textReloadIcon="fa-search",e.state=e.gInitState(t),e.onCh=e.onCh.bind(l(e)),e.onChUpdate=e.onChUpdate.bind(l(e)),e.onChLimit=e.onChLimit.bind(l(e)),e.callPropsSearch=e.callPropsSearch.bind(l(e)),e.hKeyPress=e.hKeyPress.bind(l(e)),e.rdrApFind=e.rdrApFind.bind(l(e)),e.btnInsertIcon=function(){return f.default.createElement("i",{className:"fa fa-plus-circle"})},e.btnInsertClass="btn btn-outline-primary",e}return e=u,(r=[{key:"gInitState",value:function(t){var e={search:{search:""}};return null!=t&&t.search&&(e.search=Object.assign({},t.search)),e}},{key:"callPropsSearch",value:function(){"function"==typeof this.props.onSearch&&this.props.onSearch(this.state.search)}},{key:"onCh",value:function(t){if(t&&t.target&&t.target.name){var e=this.state.search||{};e[t.currentTarget.name]=t.currentTarget.value,this.setState({search:Object.assign({},e)})}}},{key:"onChUpdate",value:function(t){if(t&&t.target&&t.currentTarget.name){var e=this.state.search||{};e[t.currentTarget.name]=t.currentTarget.value,this.setState({search:Object.assign({},e)},this.callPropsSearch)}}},{key:"onChLimit",value:function(t){var e=""===t.target.value?20:parseInt(t.target.value);isNaN(e)&&(e=0);var r=this.props||{},n=void 0!==r.limit&&null!==r.limit?parseInt(r.limit):0;isNaN(n)&&(n=0),e!==n&&"function"==typeof this.props.onSetLimit&&this.props.onSetLimit(e)}},{key:"hKeyPress",value:function(t){t&&"Enter"===t.key&&this.callPropsSearch()}},{key:"rdrApFind",value:function(){var t=this,e=this.props,r=e.loading,n=[f.default.createElement("button",{type:"button",className:"btn",onClick:function(e){e.preventDefault(),t.props.loading||"function"==typeof t.props.onReload&&t.props.onReload()}},f.default.createElement("i",{className:"fa "+(this.props.loading?"fa-spin fa-spinner":this.textReloadIcon)}),this.textReload?" "+this.textReload:"")];return e.useInsert&&n.push(f.default.createElement("button",{type:"button",className:r?"btn-outline-secondary":this.btnInsertClass,onClick:r?void 0:this.props.onInsert},!r&&f.default.createElement("span",null,this.btnInsertIcon?"function"==typeof this.btnInsertIcon?this.btnInsertIcon():this.btnInsertIcon:null,this.textInsert?" "+this.textInsert:""),r&&f.default.createElement("i",{className:"fa fa-spin fa-spinner"}))),n}},{key:"render",value:function(){var t=this.state.search||{};return f.default.createElement("div",{className:"base-find noprint"},f.default.createElement("div",{className:"input-group"},f.default.createElement("div",{className:"input-group-element"},f.default.createElement("input",{type:"text",name:"search",id:"search",autoComplete:"off",placeholder:"Keyword",value:t.search,onChange:this.onCh,onKeyPress:this.hKeyPress,spellCheck:"false"})),f.default.createElement("div",{className:"input-group-append"},this.rdrApFind())))}}])&&o(e.prototype,r),n&&o(e,n),u}(f.default.Component);e.BaseFind=p},159:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=this&&this.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createModalPromise=e.BaseModal=void 0;var p=f(r(156)),d=r(875),h=r(269),y=r(986),g=r(391),m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(u,t);var e,r,n,s=a(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this,t)).classForm="modalForm",e.btnSaveText="Simpan",e.btnCancelText="Batal",e.useEfieldId=!0,e.titleIns=(0,g.getDefaultBaseModalTitleInsert)(),e.titleUpd=(0,g.getDefaultBaseModalTitleUpdate)(),e.styleForm={},e.hUploadProgress=e.hUploadProgress.bind(l(e)),e.onSubmit=e.onSubmit.bind(l(e)),e.onCh=e.onCh.bind(l(e)),e.onClSubmit=e.onClSubmit.bind(l(e)),e.onSuccess=e.onSuccess.bind(l(e)),e.prevData=Object.assign({},t.data),e.data=Object.assign({},t.data),e.nodeForm=null,e.state=e.gInitState(),e}return e=u,(r=[{key:"gInitState",value:function(){return{loading:!1,progress:null}}},{key:"getIncludeFields",value:function(){return[]}},{key:"getEditing",value:function(){return!(0,h.isObjectEmpty)(this.prevData)}},{key:"getSetup",value:function(){var t=this.getEditing(),e={url:t?this.props.url_update||"":this.props.url_insert||"",method:"post",formElement:this.nodeForm,uploadProgress:this.hUploadProgress};t&&(e.params={},this.useEfieldId&&(e.params[this.props.fieldid]=this.prevData[this.props.fieldid]),e.params[this.props.fieldid+"_lama"]=this.prevData[this.props.fieldid]);var r=this.getIncludeFields()||[];if(r.length>0){e.params||(e.params={});for(var n=0;n<r.length;n++){var o=this.data[r[n]];null==o&&(o=this.prevData[r[n]]),null!=o&&(e.params[r[n]]=o)}}var i=(0,g.getConfigHeader)();return i&&(e.headers=Object.assign({},i)),e}},{key:"hUploadProgress",value:function(t){this.setState({progress:t?Object.assign({},t):null})}},{key:"onSuccess",value:function(t){"function"==typeof this.props.onUpdate&&this.props.onUpdate(t),"function"==typeof this.props.onClose&&this.props.onClose()}},{key:"onSubmit",value:function(t){var e=this;t&&t.preventDefault(),this.setState({loading:!0},(function(){var t=e.getSetup();(0,y.ajax)(t).then((function(t){e.onSuccess(t)})).catch((function(t){e.setState({loading:!1,progress:null}),(0,g.handleAlertErrorBase)(t)}))}))}},{key:"onCh",value:function(t){this.data[t.target.name]=t.target.value,this.forceUpdate()}},{key:"onClSubmit",value:function(t){t&&t.preventDefault(),this.onSubmit()}},{key:"rdrTitle",value:function(){var t=this.state.loading;return p.default.createElement("div",{className:"windowTitle"},p.default.createElement("div",{className:"auto"},this.getEditing()?this.titleUpd+" ":this.titleIns+" ",this.props.formTitle?this.props.formTitle:"Data"),p.default.createElement("div",null,!t&&p.default.createElement("a",{className:"close",onClick:this.props.onClose},"âœ–")))}},{key:"rdrActions",value:function(){var t=this.state.loading;return p.default.createElement("div",{className:"windowAction"},t&&p.default.createElement("button",{type:"button",className:"btn"},"Mengirim... ",p.default.createElement("i",{className:"fa fa-spin fa-spinner"})),!t&&p.default.createElement("button",{type:"submit",className:"btn btn-outline-primary",onClick:this.onClSubmit},p.default.createElement("i",{className:"fa fa-save"})," ",this.btnSaveText," "),!t&&p.default.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:this.props.onClose},p.default.createElement("i",{className:"fa fa-remove"})," ",this.btnCancelText))}},{key:"rdrContent",value:function(){return this.data,p.default.createElement("div",{className:"windowContent"},"Use content this,....")}},{key:"render",value:function(){var t=this,e=this.state,r=e.loading,n=e.progress;return p.default.createElement("form",{ref:function(e){return t.nodeForm=e},className:"".concat(this.classForm?this.classForm:""),onSubmit:this.onSubmit,style:this.styleForm},p.default.createElement("div",{className:"wrap",style:{position:"relative"}},this.rdrTitle(),this.rdrContent(),this.rdrActions(),r&&p.default.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",overflow:"hidden",display:"flex",alignItems:"flex-end",justifyContent:"center",left:"0",top:"0",zIndex:2}},n&&p.default.createElement("div",{className:"relative w-2/3 gap-1",style:{position:"relative",marginBottom:"12.5%",width:"75%",display:"grid",gap:"0.5rem"}},p.default.createElement("div",{className:"flex justify-between text-xs",style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem"}},p.default.createElement("div",null,n.percentage.toFixed(2),"%"),p.default.createElement("div",null,"100%")),p.default.createElement("div",{className:"relative h-2 border rounded overflow-hidden bg-white border-blue-500",style:{position:"relative",border:"solid 1px #3B82F6",backgroundColor:"white",overflow:"hidden",borderRadius:"0.25rem"}},p.default.createElement("div",{className:"bg-blue-500",style:{position:"absolute",left:0,top:0,height:"100%",transition:"all 274ms ease-in-out",backgroundColor:"#3B82F6",width:"".concat(n.percentage,"%")}}))))))}}])&&o(e.prototype,r),n&&o(e,n),u}(p.default.Component);e.BaseModal=m,e.createModalPromise=function(t){var e=t.component,r=t.url_insert,n=t.url_update,o=t.formTitle,i=t.data,a=t.fieldid,s=void 0===a?"id":a,l=c(t,["component","url_insert","url_update","formTitle","data","fieldid"]);return new Promise((function(t){(0,d.modal)({component:e||m,props:Object.assign(Object.assign({data:i,formTitle:o,url_insert:r,url_update:n,fieldid:s},l),{onUpdate:function(e){t(e)}})})}))}},646:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BasePag=e.generatePageInfo=void 0;var o=n(r(156)),i=r(269),a=function(t,e,r){return o.default.createElement("a",{title:"kehalaman "+t,onClick:function(e){e.preventDefault(),r&&r(t)}},o.default.createElement("span",{className:e}))},s=function(t,e,r){var n=e!==t?r:null,i=e===t?"active aktif":"";return o.default.createElement("a",{className:"step "+i,onClick:function(e){e.preventDefault(),n&&n(t)}},o.default.createElement("span",null,t))};function l(t){var e=t.page,r=t.pagecount,n=t.range;e=(0,i.toInt)(e),r=(0,i.toInt)(r);var o=(n=(0,i.toInt)(n))%2==0?n/2-1:(n-1)/2,a=e-o,s=e+(n%2==0?o+1:o);return(s=s<(a=a<1?1:a)+n-1?a+n-1:s)>r&&(a=a>1?r-n+1:1,s=r),{page:e,pagecount:r,range:n,pagemin:a=a<1?1:a,pagemax:s}}e.generatePageInfo=l,e.BasePag=function(t){var e=l({page:(0,i.toInt)(t.page),pagecount:(0,i.toInt)(t.pagecount),range:5}),r=[];e.pagecount>1&&e.page>1&&r.push(a(1,"first",t.onSetPage)),e.page>1&&1!==e.page&&r.push(a(e.page-1,"prev",t.onSetPage));for(var n=e.pagemin;n<e.pagemax;n++)r.push(s(n,e.page,t.onSetPage));e.page<e.pagecount&&r.push(a(e.page+1,"next",t.onSetPage)),e.pagecount>1&&e.page<e.pagecount&&r.push(a(e.pagecount,"last",t.onSetPage));var u=void 0===t.dsLeft||!0!==t.dsLeft&&!1!==t.dsLeft||t.dsLeft,c=void 0===t.dsRight||!0!==t.dsRight&&!1!==t.dsRight||t.dsRight,f=u||c?function(t){var e=t.page,r=t.limit,n=t.rowcount,a=t.totalrow;e=(0,i.toInt)(e),n=(0,i.toInt)(n),a=(0,i.toInt)(a);var s=((e=e<1?1:e)-1)*(r=(0,i.toInt)(r))+1,l=s+r-1;return l=l>a?a:l,o.default.createElement("div",{className:"info"},o.default.createElement("b",null,s),"-",o.default.createElement("b",null,l),a>0&&o.default.createElement("span",null," / ",o.default.createElement("b",null,(0,i.toDashVal)(a))))}({page:e.page,limit:(0,i.toInt)(t.limit),rowcount:(0,i.toInt)(t.rowcount),totalrow:(0,i.toInt)(t.totalrow)}):null,p={justifyContent:"center"};return(c&&!c||!u&&c)&&(p.justifyContent=c?"flex-start;":"flex-end"),o.default.createElement("div",{className:"pagination"},t.dsLeft&&f,o.default.createElement("div",{className:"paging",style:p},r),t.dsRight&&f)}},149:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTable=e.generateFromSetupTable=void 0;var c=u(r(156)),f=r(269);function p(t){var e=Object.assign({},t);if(e.table_head=[],e.table_row=[],e.fields&&Array.isArray(e.fields)&&e.fields.length>0)for(var r=0;r<e.fields.length;r++){var n=e.fields[r]||{},o="";o=n.alias?n.alias:(0,f.toUcWords)(n.f),(o=(0,f.toStr)(o)).length>0&&(e.table_head.push(o),e.table_row.push(Object.assign(Object.assign({},n),{f:n.f,cb:n.cb})))}return e}e.generateFromSetupTable=p;var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,t);var e,r,n,s=a(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this,t)).table=p(t.table||{}),e}return e=l,(r=[{key:"render",value:function(){var t=this,e=this.table.table_head||[],r=this.table.table_row||[],n=this.props.records||[],o=0,i=this.props.useUpdate||this.props.useDelete;return c.default.createElement("div",{className:"base-data-table"},c.default.createElement("table",{className:"table"},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",{className:"deep"},"No"),e.map((function(t,e){return c.default.createElement("th",{key:e},t)})),i&&c.default.createElement("th",{className:"deep noprint"},c.default.createElement("i",{className:"fa fa-gear"})))),c.default.createElement("tbody",null,n.map((function(e,n){return o++,c.default.createElement("tr",{key:n},c.default.createElement("td",{className:"deep",align:"center"},o),r.map((function(t,r){var n=e[t.f];if("function"==typeof t.cb)try{n=t.cb(e[t.f],e)}catch(t){}var o={};return t.align&&(o.align=t.align),t.style&&(o.style=t.style),t.className&&(o.className=t.className),c.default.createElement("td",Object.assign({key:r},o),n)})),i&&c.default.createElement("td",{className:"deep noprint"},c.default.createElement("div",{className:"base-actions"},c.default.createElement("a",{onClick:function(r){r.preventDefault(),t.props.onUpdate&&t.props.onUpdate(e)},className:"btn btn-outline-secondary btn-sm"},c.default.createElement("i",{className:"fa fa-pencil"})),c.default.createElement("a",{onClick:function(r){r.preventDefault(),t.props.onDelete&&t.props.onDelete(e)},className:"btn btn-outline-danger btn-sm"},c.default.createElement("i",{className:"fa fa-trash-o"})))))})))))}}])&&o(e.prototype,r),n&&o(e,n),l}(c.default.Component);e.BaseTable=d},574:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ChosenList=void 0;var f=c(r(156)),p=r(926),d=r(269),h=r(986),y=r(391),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,r,s,u=a(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).applyAftRes=function(){if(e.chosenOptions=[],e.options.length>0&&e.props.sortField&&e.options.sort((function(t,r){var n=t[e.props.sortField],o=r[e.props.sortField];return n>o?1:n<o?-1:0})),e.options.length>0&&"function"==typeof e.props.onFieldName){var t=(0,d.toStr)(e.props.fieldname).toString().trim(),r=(0,d.toStr)(e.props.fieldid).toString().trim();r=r.length<1?t:r;for(var o=[],i=0;i<e.options.length;i++){var a=e.options[i];if("object"===n(a)){for(var s in a)a[s+"_origin_"]=a[s];var l=(0,d.toStr)(a[r]).toString().trim();if(!(o.indexOf(l)>=0)){var u=(0,d.toStr)(a[t]);u=u.length<1?l:u;try{var c=e.props.onFieldName(a);"string"==typeof c&&(0,d.toStr)(c).length>0&&(u=(0,d.toStr)(c).toString().trim())}catch(t){}o.push(l);var f=Object.assign({},a);f[e.props.name]=l,f[r]=l,f[t]=u,e.chosenOptions.push(f)}}}}else e.chosenOptions=e.options},e.options=[],e.chosenOptions=[],e.onReload=e.onReload.bind(l(e)),e.doLoad=e.doLoad.bind(l(e)),e.state=e.getInitialState(),e}return e=c,(r=[{key:"getInitialState",value:function(){return{loading:!1}}},{key:"doLoad",value:function(){var t=this,e=(0,d.toStr)(this.props.url).toString().trim();if(!(e.length<1)){var r={url:e,method:this.props.method?this.props.method:"GET",params:Object.assign({},this.props.params)},o=(0,y.getConfigHeader)();Headers&&(r.headers=Object.assign({},o)),this.props.useCache?(0,h.ajaxCache)(r,this.props.cacheExpire).then((function(e){t.options=Array.isArray(e)&&e.length>0?e.slice(0):"object"===n(e)&&e.records&&Array.isArray(e.records)?e.records.slice(0):[],t.applyAftRes(),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})})):(0,h.ajax)(r).then((function(e){t.options=Array.isArray(e)&&e.length>0?e.slice(0):"object"===n(e)&&e.records&&Array.isArray(e.records)?e.records.slice(0):[],t.applyAftRes(),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})}))}}},{key:"onReload",value:function(){(0,d.toStr)(this.props.url).toString().trim().length<1||this.setState({loading:!0},this.doLoad)}},{key:"componentDidMount",value:function(){this.onReload()}},{key:"componentDidUpdate",value:function(t){!(0,d.isEqual)(this.props.params,t.params)&&this.onReload()}},{key:"render",value:function(){var t={name:this.props.name,loading:this.state.loading,onChange:this.props.onChange,value:this.props.value,fieldid:this.props.fieldid,fieldname:this.props.fieldname,placeholder:this.props.placeholder};return!0===this.props.multiple&&(t.multiple=!0),f.default.createElement(p.Chosen,Object.assign({},t,{options:this.chosenOptions}))}}])&&o(e.prototype,r),s&&o(e,s),c}(f.default.Component);e.ChosenList=g},486:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Item=void 0;var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(u,t);var e,r,n,s=a(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this,t)).gInitState=e.gInitState.bind(l(e)),e.state=e.gInitState(t),e.onTgOpen=e.onTgOpen.bind(l(e)),e.onReloadSelf=e.onReloadSelf.bind(l(e)),e.rdrChild=e.rdrChild.bind(l(e)),e}return e=u,(r=[{key:"gInitState",value:function(t){return t=t||this.props,{open:!1}}},{key:"onTgOpen",value:function(t){t&&t.preventDefault(),this.setState({open:!this.state.open})}},{key:"onReloadSelf",value:function(){}},{key:"rdrChild",value:function(){}}])&&o(e.prototype,r),n&&o(e,n),u}(c(r(156)).default.Component);e.Item=f},460:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLoader=void 0;var f=c(r(156)),p=r(986),d=r(391),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(u,t);var e,r,n,s=a(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this,t)).res=null,e.doLoad=e.doLoad.bind(l(e)),e.onReload=e.onReload.bind(l(e)),e}return e=u,(r=[{key:"getStp",value:function(){var t,e;return{url:null!==(t=this.props.url)&&void 0!==t?t:"",params:this.props.params,method:null!==(e=this.props.method)&&void 0!==e?e:"GET",headers:(0,d.getConfigHeader)()}}},{key:"doLoad",value:function(){var t=this,e=this.getStp();(0,p.ajax)(e).then((function(e){t.res=Object.assign({},e),t.setState({loading:!1,error:null})})).catch((function(e){t.res=null,t.setState({loading:!1,error:e})}))}},{key:"onReload",value:function(t){t&&t.preventDefault(),this.setState({loading:!1,error:null},this.doLoad)}},{key:"componentDidMount",value:function(){this.props.url&&this.props.url.length>0&&this.onReload()}}])&&o(e.prototype,r),n&&o(e,n),u}(f.default.Component);e.BaseLoader=h},912:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SelectList=void 0;var f=c(r(156)),p=r(269),d=r(986),h=r(391),y=r(22),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,r,s,u=a(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this,t)).applyAftRes=function(){if(e.chosenOptions=[],e.options.length>0&&e.props.sortField&&e.options.sort((function(t,r){var n=t[e.props.sortField],o=r[e.props.sortField];return n>o?1:n<o?-1:0})),e.options.length>0&&"function"==typeof e.props.onFieldName){var t=(0,p.toStr)(e.props.fieldname).toString().trim(),r=(0,p.toStr)(e.props.fieldid).toString().trim();r=r.length<1?t:r;for(var o=[],i=0;i<e.options.length;i++){var a=e.options[i];if("object"===n(a)){for(var s in a)a[s+"_origin_"]=a[s];var l=(0,p.toStr)(a[r]).toString().trim();if(!(o.indexOf(l)>=0)){var u=(0,p.toStr)(a[t]);u=u.length<1?l:u;try{var c=e.props.onFieldName(a);"string"==typeof c&&(0,p.toStr)(c).length>0&&(u=(0,p.toStr)(c).toString().trim())}catch(t){}o.push(l);var f=Object.assign({},a);f[e.props.name]=l,f[r]=l,f[t]=u,e.chosenOptions.push(f)}}}}else e.chosenOptions=e.options},e.options=[],e.chosenOptions=[],e.onReload=e.onReload.bind(l(e)),e.doLoad=e.doLoad.bind(l(e)),e.state=e.getInitialState(),e}return e=c,(r=[{key:"getInitialState",value:function(){return{loading:!1}}},{key:"doLoad",value:function(){var t=this,e=(0,p.toStr)(this.props.url).toString().trim();if(!(e.length<1)){var r={url:e,method:this.props.method?this.props.method:"GET",params:Object.assign({},this.props.params)},o=(0,h.getConfigHeader)();Headers&&(r.headers=Object.assign({},o)),this.props.useCache?(0,d.ajaxCache)(r,this.props.cacheExpire).then((function(e){t.options=Array.isArray(e)&&e.length>0?e.slice(0):"object"===n(e)&&e.records&&Array.isArray(e.records)?e.records.slice(0):[],t.applyAftRes(),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})})):(0,d.ajax)(r).then((function(e){t.options=Array.isArray(e)&&e.length>0?e.slice(0):"object"===n(e)&&e.records&&Array.isArray(e.records)?e.records.slice(0):[],t.applyAftRes(),t.setState({loading:!1})})).catch((function(){t.setState({loading:!1})}))}}},{key:"onReload",value:function(){(0,p.toStr)(this.props.url).toString().trim().length<1||this.setState({loading:!0},this.doLoad)}},{key:"componentDidMount",value:function(){this.onReload()}},{key:"componentDidUpdate",value:function(t){var e=!(0,p.isEqual)(this.props.params,t.params);if(e)this.onReload();else if(!Array.isArray(t.value)&&!Array.isArray(this.props.value)){var r=(0,p.toStr)(t.value).toString().trim(),n=(0,p.toStr)(this.props.value).toString().trim();e=r!==n,console.log("force ",{value_a:r,value_b:n},{harus:e}),console.log("force from ",this.props)}}},{key:"render",value:function(){var t={name:this.props.name,loading:this.state.loading,onChange:this.props.onChange,value:this.props.value,fieldid:this.props.fieldid,fieldname:this.props.fieldname,placeholder:this.props.placeholder};return!0===this.props.multiple&&(t.multiple=!0),f.default.createElement(y.Select,Object.assign({},t,{options:this.chosenOptions}))}}])&&o(e.prototype,r),s&&o(e,s),c}(f.default.Component);e.SelectList=g},391:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.handleAlertErrorBase=e.getConfigHeader=e.setConfigHeader=e.setDefaultBaseModalTitleUpdate=e.getDefaultBaseModalTitleUpdate=e.setDefaultBaseModalTitleInsert=e.getDefaultBaseModalTitleInsert=e.setDefaultDeleteRequestType=e.getDefaultDeleteRequestType=e.baseResAttrSet=e.baseResAttrGet=void 0;var n,o=r(875),i="qparams",a="New",s="Edit",l={records:"records",page:"page",pagecount:"pagecount",limit:"limit",rowcount:"rowcount",totalrow:"totalrow"};e.baseResAttrGet=function(){return l},e.baseResAttrSet=function(t){for(var e=["records","page","pagecount","limit","rowcount","totalrow"],r=0;r<e.length;r++)e[r]in t&&(l[e[r]]=t[e[r]])},e.getDefaultDeleteRequestType=function(){return i},e.setDefaultDeleteRequestType=function(t){i=t},e.getDefaultBaseModalTitleInsert=function(){return a},e.setDefaultBaseModalTitleInsert=function(t){a=t},e.getDefaultBaseModalTitleUpdate=function(){return s},e.setDefaultBaseModalTitleUpdate=function(t){s=t},e.setConfigHeader=function(t){n=t||null},e.getConfigHeader=function(){var t;return n&&"string"==typeof n&&(t={Authorization:"Bearer "+n}),t},e.handleAlertErrorBase=function(t,e){var r=t.code;t.xhr&&t.xhr.status!==t.code&&409!==t.code&&(r=t.xhr.status);var n=[400,409,422].indexOf(r)>=0,i=t.title,a=t.message;(n||403===r)&&(i=r+" Bad Request",409===r&&(i="Conflict"),422===r&&(i=r+" Unprocessable"),403===r&&(i="Access Denied "+r)),null!=e&&(void 0!==e.msg_before&&(e.msg_before||"").toString().trim().length>0&&(a=e.msg_before.toString().trim()+". "+a),void 0!==e.msg_after&&(e.msg_after||"").toString().trim().length>0&&(a+=". "+e.msg_after)),(n?o.AlertWarn:o.AlertError)(i,a,"OK")}},976:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(36),e),o(r(423),e),o(r(646),e),o(r(149),e),o(r(159),e),o(r(574),e),o(r(486),e),o(r(460),e),o(r(391),e),o(r(820),e),o(r(912),e)},820:(t,e)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.handleResponseSelf=void 0,e.handleResponseSelf=function(t){if(void 0!==this.res&&null!==this.res&&"object"===r(this.res)){var e=t;e&&e.records&&Array.isArray(e.records)?(this.res=Object.assign({},e),this.res.records=e.records.slice(0),this.res.page=void 0!==this.res.page&&null!==this.res.page?this.res.page:1,this.res.pagecount=void 0!==this.res.pagecount&&null!==this.res.pagecount?this.res.pagecount:1,this.res.totalrow=void 0===this.res.totalrow||null===this.res.totalrow?this.res.records.length:this.res.totalrow,this.res.rowcount=void 0===this.res.rowcount||null===this.res.rowcount?this.res.records.length:this.res.rowcount,this.res.limit=void 0!==e.limit&&null!==e.limit?e.limit:this.req.limit,this.res.page=this.res.page<1?1:this.res.page,this.res.pagecount=this.res.pagecount<1?1:this.res.pagecount,this.res.totalrow=this.res.totalrow<0?0:this.res.totalrow,this.res.rowcount=this.res.rowcount<0?0:this.res.rowcount,this.res.rowcount=this.res.rowcount>this.res.totalrow?this.res.totalrow:this.res.rowcount,this.records=this.res.records.slice(0),this.res.records=[]):Array.isArray(e)?(this.records=e.slice(0),this.res.page=1,this.res.pagecount=1,this.res.totalrow=this.records.length,this.res.rowcount=this.res.totalrow):(this.records=[],this.res.page=1,this.res.pagecount=1,this.res.totalrow=0,this.res.rowcount=0)}}},926:e=>{e.exports=t},875:t=>{t.exports=e},22:t=>{t.exports=r},269:t=>{t.exports=n},986:t=>{t.exports=o},156:t=>{t.exports=i}},s={};var l=function t(e){var r=s[e];if(void 0!==r)return r.exports;var n=s[e]={exports:{}};return a[e].call(n.exports,n,n.exports,t),n.exports}(976);return l})()}));
//# sourceMappingURL=base.js.map