{"version":3,"file":"base.js","mappings":"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","sources":["webpack://base/webpack/universalModuleDefinition","webpack://base/./src/Base.tsx","webpack://base/./src/BaseFind.tsx","webpack://base/./src/BaseModal.tsx","webpack://base/./src/BasePag.tsx","webpack://base/./src/BaseTable.tsx","webpack://base/./src/ChosenList.tsx","webpack://base/./src/Item.tsx","webpack://base/./src/Loader.tsx","webpack://base/./src/baseConfig.ts","webpack://base/./src/index.tsx","webpack://base/./src/types.ts","webpack://base/external umd \"intoy-chosen\"","webpack://base/external umd \"intoy-modal\"","webpack://base/external umd \"intoy-utils\"","webpack://base/external umd \"intoy-xhr\"","webpack://base/external umd \"react\"","webpack://base/webpack/bootstrap","webpack://base/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"intoy-chosen\"), require(\"intoy-modal\"), require(\"intoy-utils\"), require(\"intoy-xhr\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"base\", [\"intoy-chosen\", \"intoy-modal\", \"intoy-utils\", \"intoy-xhr\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"base\"] = factory(require(\"intoy-chosen\"), require(\"intoy-modal\"), require(\"intoy-utils\"), require(\"intoy-xhr\"), require(\"react\"));\n\telse\n\t\troot[\"base\"] = factory(root[\"intoy-chosen\"], root[\"intoy-modal\"], root[\"intoy-utils\"], root[\"intoy-xhr\"], root[\"react\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__926__, __WEBPACK_EXTERNAL_MODULE__875__, __WEBPACK_EXTERNAL_MODULE__269__, __WEBPACK_EXTERNAL_MODULE__986__, __WEBPACK_EXTERNAL_MODULE__156__) {\nreturn ","import React, { ReactNode } from \"react\";\r\nimport { LoadingOverlay, AlertExclam } from \"intoy-modal\"\r\nimport { isEqual, rTrim, toInt, toStr, toUcWords} from \"intoy-utils\";\r\nimport { ajax, Iajax } from \"intoy-xhr\";\r\nimport { getConfigHeader, getDefaultDeleteRequestType, handleAlertErrorBase } from \"./baseConfig\";\r\nimport {    \r\n    IBaseProps,    \r\n    IBaseSearch,\r\n    IBaseState,\r\n    IBaseSetupTable,\r\n    IBasePagProps,\r\n    IBaseOptionSearchArrayObject,\r\n    IBaseRequest,\r\n    IBaseResponse,\r\n    IBaseDeleteRequestType\r\n} from \"./types\";\r\n\r\n\r\nexport class Base<P extends IBaseProps, S extends IBaseState> extends React.Component<P,S> \r\n{    \r\n    protected lodOv:LoadingOverlay<any>|null;\r\n\r\n    protected search:IBaseSearch;    \r\n    protected records:any;   \r\n    protected req:IBaseRequest;\r\n    protected res:IBaseResponse; \r\n\r\n    //informasi field yang ditampilkan ketika akan dihapus\r\n    protected asgFieldShow:number;\r\n\r\n    /// apakah harus force update ketika ada record yang diupdate\r\n    protected updOnDidUpRecord:boolean=false;\r\n    // apakah data harus dihapus ketika loaded tidak berhasil\r\n    protected clrDataOnFailed:boolean=false;\r\n\r\n    // jenis request delete\r\n    protected delReqTipe:IBaseDeleteRequestType=getDefaultDeleteRequestType();\r\n\r\n    constructor(props:P){        \r\n        super(props);\r\n        this.lodOv=null;\r\n\r\n        this.onSearch=this.onSearch.bind(this);\r\n        \r\n        this.doReload=this.doReload.bind(this);\r\n        this.onReload=this.onReload.bind(this);\r\n\r\n        this.onInsert=this.onInsert.bind(this);\r\n        this.onUpdate=this.onUpdate.bind(this);\r\n        this.onDelete=this.onDelete.bind(this);\r\n\r\n        this.onAftInsert=this.onAftInsert.bind(this);\r\n        this.onAftUpdate=this.onAftUpdate.bind(this);\r\n        this.onAftDelete=this.onAftDelete.bind(this);\r\n\r\n        this.doSndDelete=this.doSndDelete.bind(this);\r\n        this.onSetPage=this.onSetPage.bind(this);\r\n\r\n        this.didUpRecord=this.didUpRecord.bind(this);\r\n        this.onItemBeforeUpdate = this.onItemBeforeUpdate.bind(this);\r\n        this.onItemUpdated=this.onItemUpdated.bind(this);\r\n        this.didUpList=this.didUpList.bind(this);\r\n\r\n        this.handResp=this.handResp.bind(this);\r\n        this.handSort=this.handSort.bind(this);\r\n        this.handRespAft=this.handRespAft.bind(this);\r\n\r\n        this.rdrChilds=this.rdrChilds.bind(this);\r\n        this.rdrFind=this.rdrFind.bind(this);\r\n        this.rdrTable=this.rdrTable.bind(this);\r\n        this.rdrPag=this.rdrPag.bind(this);        \r\n        \r\n        this.search={\r\n            search:typeof props.search===\"number\" || typeof props.search===\"string\"?props.search.toString():\"\",           \r\n        };      \r\n\r\n        this.asgFieldShow=2;\r\n        \r\n        this.records=[];\r\n        this.req={\r\n            page:1,\r\n            limit:props.limit?props.limit:20,\r\n            search:{},\r\n        } as IBaseRequest;\r\n\r\n        this.res={\r\n            limit:this.req.limit,\r\n            page:1,\r\n            pagecount:1,\r\n            rowcount:0,\r\n            totalrow:0,\r\n            records:[],\r\n        } as IBaseResponse;         \r\n        \r\n        this.state=this.gInitState(props);\r\n\r\n    }\r\n\r\n    protected gInitState(props?:P):S\r\n    {\r\n        return {loadedCount:0,loading:false,error:null} as S;\r\n    }\r\n\r\n    protected ovOpen(ops?:any)\r\n    {\r\n        if(this.lodOv)\r\n        {\r\n            if(ops && ops.text)            \r\n            {\r\n                this.lodOv.setText(ops.text);\r\n            }\r\n            return;\r\n        }\r\n        this.lodOv=new LoadingOverlay({clickClose:false,...ops});\r\n        this.lodOv.open();\r\n    }\r\n\r\n    protected ovClose()\r\n    {\r\n        if(!this.lodOv) return;\r\n        this.lodOv.destroy();\r\n        this.lodOv=null;\r\n    }\r\n\r\n    protected getIndexArrayObj(props:IBaseOptionSearchArrayObject)\r\n    {\r\n\r\n        const po=props?props:{} as IBaseOptionSearchArrayObject; \r\n        let index=-1;\r\n        let p=toStr(po.field).toString().trim();\r\n        if(!Array.isArray(po.arrayObj) || p.length<1) return index;\r\n        let val=toStr(po.value).toString().trim();\r\n        if(!po.sensitive){\r\n            val=val.toUpperCase();\r\n        }\r\n        for(let i=0; i<po.arrayObj.length; i++){\r\n            const o:any=po.arrayObj[i] as any;\r\n            const iso=typeof o===\"object\" && !Array.isArray(o);\r\n            if(!iso) continue;\r\n\r\n            let b=toStr(o[po.field]).toString().trim();\r\n            if(!po.sensitive){\r\n                b=b.toUpperCase().trim();\r\n            }\r\n            if(val===b){\r\n                index=i;\r\n                break;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n\r\n    //ketika hanya satu record yang harus diupdate    \r\n    protected didUpRecord(index:number,prevData:any,current:any)\r\n    {   \r\n        const isTrue=index>=0 && current && Array.isArray(this.records) && this.records.length>0 && index<=this.records.length-1;        \r\n        if(isTrue)\r\n        {\r\n            this.records[index]={...current};\r\n            this.onItemUpdated();\r\n            //you must re render for update childs record for graduaded  \r\n            if(this.updOnDidUpRecord)\r\n            {\r\n                this.forceUpdate();\r\n            }\r\n        }\r\n    }\r\n\r\n    // ketika salah satu item record akan di bind ke array records\r\n    protected onItemBeforeUpdate(item:any)\r\n    {\r\n\r\n    }\r\n\r\n    // ketika salah satu di item records di update\r\n    protected onItemUpdated()\r\n    {\r\n\r\n    }\r\n\r\n    //ketika harus meload kembali ketika ada proses submit form insert/update/delete berhasil\r\n    protected didUpList()\r\n    {\r\n\r\n    }\r\n\r\n    protected handResp(res:any)\r\n    {   \r\n        if(res && res.records && Array.isArray(res.records))\r\n        {\r\n            //copy response\r\n            this.res={...res};\r\n            this.res.records=res.records.slice(0);\r\n            this.res.page=this.res.page!==undefined && this.res.page!==null?this.res.page:1;\r\n            this.res.pagecount=this.res.pagecount!==undefined && this.res.pagecount!==null?this.res.pagecount:1;\r\n            this.res.totalrow=this.res.totalrow===undefined || this.res.totalrow===null?this.res.records.length:this.res.totalrow;\r\n            this.res.rowcount=this.res.rowcount===undefined || this.res.rowcount===null?this.res.records.length:this.res.rowcount;\r\n            //normalize response\r\n            this.res.limit=res.limit!==undefined && res.limit!==null?res.limit:this.req.limit;\r\n            this.res.page=this.res.page<1?1:this.res.page;\r\n            this.res.pagecount=this.res.pagecount<1?1:this.res.pagecount;\r\n            this.res.totalrow=this.res.totalrow<0?0:this.res.totalrow;\r\n            this.res.rowcount=this.res.rowcount<0?0:this.res.rowcount;\r\n            this.res.rowcount=this.res.rowcount>this.res.totalrow?this.res.totalrow:this.res.rowcount;\r\n            this.records=this.res.records.slice(0);\r\n            // delete res response records\r\n            this.res.records=[];\r\n        }\r\n        else \r\n        if(Array.isArray(res))\r\n        {\r\n            //attach res as records\r\n            this.records=res.slice(0);\r\n            this.res.page=1;\r\n            this.res.pagecount=1;\r\n            this.res.totalrow=this.records.length;\r\n            this.res.rowcount=this.res.totalrow;\r\n        }\r\n        else {\r\n            //reset data\r\n            this.records=[];\r\n            this.res.page=1;\r\n            this.res.pagecount=1;\r\n            this.res.totalrow=0;\r\n            this.res.rowcount=0;\r\n        }       \r\n    }\r\n\r\n    protected handSort()\r\n    {\r\n        const isTrue=Array.isArray(this.records) && this.records.length>0\r\n                    && this.props.table \r\n                    && this.props.table.sortField!==undefined\r\n                    && this.props.table.sortField!==null\r\n                    ;\r\n        if(!isTrue) return;\r\n\r\n        const f=this.props.table.sortField||\"index\";\r\n        const st=this.props.table.sortFieldType||\"string\";\r\n        this.records.sort((a:any,b:any)=>{\r\n            let valA:any=a[f];\r\n            let valB:any=b[f];\r\n            if([\"integer\",\"double\"].indexOf(st)>=0)\r\n            {\r\n                valA=parseFloat(valA);\r\n                valB=parseFloat(valB);\r\n            }            \r\n            return valA>valB?1:valA<valB?-1:0;\r\n        })\r\n    }\r\n\r\n    protected handFilter()\r\n    {\r\n\r\n    }\r\n\r\n    protected handRespAft()\r\n    {\r\n        this.setState({loadedCount:this.state.loadedCount+1,loading:false,error:null});\r\n    }\r\n    \r\n    protected getSetup(params?:any):Iajax\r\n    {\r\n        const setup:Iajax={\r\n            url:this.props.url_data?this.props.url_data.toString().trim():\"\",\r\n        }\r\n        if(params)\r\n        {\r\n            setup.params={...params};\r\n        }\r\n\r\n        const headers=getConfigHeader();\r\n        \r\n        if(headers){\r\n            setup.headers={...headers};\r\n        }\r\n        return setup;\r\n    }\r\n\r\n    doReload()\r\n    {      \r\n        const req={...this.req};\r\n        if(this.res.pagecount>0 && req.page>this.res.pagecount)\r\n        {\r\n            req.page=this.res.pagecount;            \r\n        }\r\n\r\n        const setup=this.getSetup({\r\n            ...req,\r\n            ...this.search\r\n        });\r\n\r\n        const headers:any=getConfigHeader();\r\n        \r\n        if(headers){\r\n            setup.headers={...headers};\r\n        }\r\n        \r\n        ajax(setup)\r\n        .then(data=>{ \r\n            this.handResp(data);\r\n            this.handSort();\r\n            this.handFilter();\r\n            this.handRespAft();            \r\n        })\r\n        .catch(e=>{\r\n            if(this.clrDataOnFailed)\r\n            {\r\n                this.records=[];\r\n            }\r\n            \r\n            this.setState({loadedCount:this.state.loadedCount+1,loading:false});\r\n        });\r\n    }\r\n\r\n    onReload()\r\n    {   \r\n        if(this.state.loading){\r\n            console.warn(\"Base multiple calling reload at sometime\");            \r\n        }       \r\n        this.setState({ loading: true },this.doReload);             \r\n    }\r\n\r\n    onSearch(newSearch:IBaseSearch){                \r\n        if(!isEqual(this.search,newSearch)){                        \r\n            this.search={...newSearch};\r\n            //page harus direset karena terjadi perubahan permintaan keserver \r\n            this.req.page=1;\r\n            this.onReload();\r\n        }\r\n    }    \r\n\r\n    onAftInsert(newData:any)\r\n    {\r\n        this.didUpList();\r\n        this.onReload();        \r\n    }\r\n\r\n    onInsert(){\r\n        const callable=this.props.compForm;\r\n        if(!callable) return;\r\n\r\n        callable().then((newData:any) =>{\r\n            this.onAftInsert(newData);\r\n        });\r\n    }\r\n\r\n    onAftUpdate(newData:any)\r\n    {\r\n        this.didUpList();\r\n        this.onReload();\r\n    }\r\n\r\n    onUpdate(data:any){\r\n        const callable=this.props.compForm;\r\n        if(!callable) return;\r\n        callable({\r\n            data:data\r\n        }).then((newData:any)=>{\r\n            this.onAftUpdate(newData);\r\n        });\r\n    }\r\n\r\n    onAftDelete(data:any,fieldid:any,value:any)\r\n    {\r\n        let reloanOnDelete=this.props.reloadOnDeleted===true;\r\n        let index=-1;\r\n        if(!reloanOnDelete){\r\n            index=this.getIndexArrayObj({\r\n                arrayObj:this.records,\r\n                field:fieldid,\r\n                value:value,                \r\n            });\r\n        }\r\n        \r\n        if(index>=0 && !reloanOnDelete){\r\n            //cancel reload splice record\r\n            this.records.splice(index,1);\r\n            if(this.records.length>0)\r\n            {\r\n                this.didUpList();\r\n                this.forceUpdate();\r\n                return;\r\n            }\r\n            reloanOnDelete=true;\r\n        }        \r\n\r\n        this.didUpList();\r\n        this.onReload();\r\n    }\r\n\r\n    protected getMsgDel(data:any):string\r\n    {\r\n        if(!data) return \"\";\r\n\r\n        const table:IBaseSetupTable=this.props.table||{} as IBaseSetupTable;\r\n        const fieldid=table.fieldid;\r\n        const d:any={};       \r\n        \r\n        let str=\"\";\r\n        let par=[];        \r\n        let dataName=\"\";\r\n        if(fieldid){\r\n            d[fieldid as string]=data[fieldid as string];\r\n        }\r\n\r\n        if(toStr(table.dataName).toString().trim().length>0){\r\n            dataName=toStr(table.dataName).toString().trim();\r\n        }\r\n        \r\n        if(table.fields && table.fields.length>0){\r\n            for(let i=0; i<table.fields.length; i++){\r\n                const f=table.fields[i];\r\n                let val=toStr(data[f.f]);\r\n                if(val.length>0){\r\n                    if(val.length>50){\r\n                        val=val.substring(0,50)+'..';\r\n                    }\r\n                    let fName:string=toStr(table.fields[i].alias);\r\n                    let lval:string='<b>'+val+'</b>';\r\n                    if(fName.length>0){\r\n                        lval=fName+' '+lval;\r\n                    }\r\n                    par.push(lval);\r\n                }\r\n                if(par.length>=this.asgFieldShow) break;\r\n            }\r\n        }                 \r\n\r\n        if(dataName.length>0) str+=toUcWords(dataName);    \r\n        if(par.length>0){\r\n            if(str.length>0){\r\n                str+=\" item\";\r\n            }\r\n            else {\r\n                str+=\"Item\";\r\n            }\r\n\r\n            str+=\" data \"+par.join(\", \")+\"\";\r\n        }        \r\n        str+=\" akan dihapus.\";\r\n        return str;\r\n    }\r\n\r\n\r\n    protected getSetupDel(data:any):Iajax\r\n    {\r\n        const props=this.props;\r\n        let url=this.props.url_delete?this.props.url_delete.toString().trim():\"\";\r\n        let url_method=\"POST\";\r\n\r\n        const se:Iajax={\r\n            url:url,\r\n            params:data,\r\n            method:url_method,\r\n        };  \r\n\r\n        const genreDefault=()=>{\r\n            const table:IBaseSetupTable=this.props.table||{} as IBaseSetupTable;\r\n            let fields:any=table.fieldid?table.fieldid:\"\";\r\n            fields=Array.isArray(fields)?fields:[fields];\r\n            const fieldNames:string[]=[];\r\n            const values:string[]=[];\r\n            const obj:any={};\r\n\r\n            for(let i=0; i<fields.length; i++)\r\n            {\r\n                const f=toStr(fields[i]);\r\n                let val=f.length>0?toStr(data[f]).toString().trim():'';\r\n                if(val.length>0)\r\n                {\r\n                    fieldNames.push(f);\r\n                    values.push(val);\r\n                    obj[f]=val;\r\n                }\r\n            }        \r\n            if(values.length>0)\r\n            {\r\n                //using delete \r\n                se.method='DELETE';\r\n                se.url+=\"/\"+values.join(\"/\");\r\n                delete se.params;\r\n            }        \r\n        \r\n            const headers=getConfigHeader();\r\n\r\n            if(headers){\r\n                se.headers=headers;\r\n            }\r\n        };\r\n\r\n\r\n        const genreQParams=()=>{\r\n            let fields=props.table && props.table.fieldid?props.table.fieldid:null;\r\n            if(typeof fields==='string')\r\n            {\r\n                fields=toStr(fields);\r\n                fields=fields.length>0?[fields]:[];\r\n            }\r\n            else         \r\n            {\r\n                fields=Array.isArray(fields)?fields:[];\r\n            }\r\n\r\n            //const u=new URLSearchParams()   \r\n            let url=rTrim(toStr(props.url_delete),'/'); \r\n            url+=url[url.length-1]!=='?'?'?':'';\r\n            se.method='delete';\r\n            se.params={};\r\n            data=data||{};\r\n\r\n            for(let i=0; i<fields.length; i++)\r\n            {\r\n                const p=fields[i];\r\n                const val=toStr(data[p]).toString().trim();\r\n                if(val.length>0)\r\n                {\r\n                    se.params[p]=val;\r\n                }\r\n            }\r\n\r\n            const su=new URLSearchParams(se.params);\r\n            delete se.params;        \r\n            se.url=url+su.toString();\r\n        };\r\n\r\n        if(this.delReqTipe===\"qparams\")\r\n        {\r\n            genreQParams();\r\n        }\r\n        else {\r\n            genreDefault();\r\n        }\r\n\r\n        return se;\r\n    }\r\n\r\n    protected doSndDelete(se:Iajax) \r\n    {        \r\n        this.setState({loading:true},()=>\r\n        {\r\n            const table:IBaseSetupTable=this.props.table||{} as IBaseSetupTable;\r\n            const fieldid=table.fieldid?table.fieldid:'';\r\n            this.ovOpen({text:'Menghapus,..'});\r\n            ajax(se)\r\n            .then(info=>{\r\n                this.ovClose();\r\n                this.setState({loading:false},()=>{\r\n                    this.onAftDelete(se.params,fieldid,info); \r\n                });\r\n            })\r\n            .catch(e=>{\r\n                this.ovClose();\r\n                handleAlertErrorBase(e); \r\n                this.setState({loading:false});\r\n            });\r\n        });\r\n    }    \r\n\r\n    onDelete(data:any)\r\n    {\r\n        let str=this.getMsgDel(data);\r\n\r\n        let after=\"Terkait data dimaksud ada kemungkinan akan ikut terhapus. <br/>&nbsp;<br/>Apakah Anda setuju?\";\r\n        if((str+\" \"+after).length>100) str+=\"<br/>\";\r\n        else str+=\" \";\r\n        str+=after;        \r\n\r\n        let str_no='<i class=\"fa fa-hand-stop-o\"> </i> Tidak';\r\n        let str_yes='<i class=\"fa fa-thumbs-o-up\"> </i> Iya setuju hapus';\r\n        AlertExclam(\"Konfirmasi Hapus\",str,str_no,function noop(){},str_yes,()=>{\r\n            const se=this.getSetupDel(data);            \r\n            this.doSndDelete(se);\r\n        });\r\n    }\r\n\r\n    onSetPage(page:number)\r\n    {\r\n        if(this.state.loading) return false;\r\n        page=toInt(page);\r\n        page=page<1?1:page;\r\n        page=page>this.res.pagecount?this.res.pagecount:page;\r\n        \r\n        if(page!==this.res.page)\r\n        {\r\n            this.req.page=page;\r\n            this.onReload();\r\n        }\r\n    }\r\n\r\n    onSetLimit=(limit:number)=>{\r\n        if(limit===undefined || limit===null || limit===this.req.limit) return;\r\n        this.req.limit=limit;\r\n        this.onReload();\r\n    }\r\n\r\n    getFndProps(){\r\n        const props:any={\r\n            useInsert:this.props.useInsert,\r\n            search:{...this.search},\r\n            onSearch:this.onSearch,\r\n            onReload:this.onReload,\r\n            onInsert:this.onInsert,\r\n            onSetLimit:this.onSetLimit,\r\n            limit:this.req.limit,\r\n            loading:this.state.loading,\r\n        };\r\n        return props;\r\n    }\r\n\r\n    getTblProps(){\r\n        const props={\r\n            useUpdate:this.props.useUpdate,\r\n            useDelete:this.props.useDelete,\r\n\r\n            onUpdate:this.onUpdate,\r\n            onDelete:this.onDelete,\r\n            onReload:this.onReload,\r\n\r\n            table:this.props.table,\r\n            records:this.records,   \r\n            \r\n            page:this.res.page,\r\n            limit:this.req.limit,\r\n            loading:this.state.loading,         \r\n        };        \r\n        return props;\r\n    }\r\n\r\n    getPagProps():any\r\n    {\r\n\r\n        const props:IBasePagProps={\r\n            page:this.res.page,\r\n            pagecount:this.res.pagecount,\r\n            rowcount:this.res.rowcount,\r\n            limit:this.res.limit,\r\n            totalrow:this.res.totalrow,\r\n            onSetPage:this.onSetPage,\r\n            dsLeft:true,\r\n            dsRight:true,\r\n        };\r\n        return props;\r\n    }\r\n\r\n    rdrFind():ReactNode|any\r\n    {\r\n        const Comp=this.props.compFind;\r\n        if(Comp){\r\n            const props=this.getFndProps();                \r\n            return <Comp {...props} />\r\n        }\r\n    }\r\n\r\n    rdrTable():ReactNode|any\r\n    {\r\n        const Comp=this.props.compTbl;\r\n        if(Comp){\r\n            const props=this.getTblProps();\r\n            return <Comp {...props} />\r\n        }\r\n    }\r\n\r\n    rdrPag():ReactNode|any\r\n    {\r\n        if(this.res.pagecount<=1) \r\n        {            \r\n            return null;\r\n        }\r\n        \r\n        const Comp=this.props.compPag;\r\n        if(Comp){\r\n            const props=this.getPagProps();\r\n            return <Comp {...props} />\r\n        }\r\n    }  \r\n\r\n    rdrChilds():ReactNode | any\r\n    {        \r\n        const childs=[this.rdrFind(),this.rdrTable(),this.rdrPag()];\r\n        return childs;\r\n    }  \r\n\r\n    render():ReactNode|any\r\n    {     \r\n        const {loading}=this.state;       \r\n        return (\r\n            <div className={\"base\"+(this.props.className?\" \"+this.props.className:\"\")+(loading?\" loading\":\"\")}>\r\n               {this.rdrChilds()}       \r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidMount()\r\n    {        \r\n        this.onReload();\r\n    }\r\n}","import React from \"react\";\r\nimport {   \r\n    IBaseFindProps\r\n    ,IBaseFindState  \r\n} from \"./types\";\r\n\r\ntype IAnyEvent=React.ChangeEvent<HTMLInputElement>|React.ChangeEvent<HTMLTextAreaElement>;\r\n\r\n\r\nexport class BaseFind<P extends IBaseFindProps, S extends IBaseFindState> extends React.Component<P,S> \r\n{    \r\n    protected textInsert:string='';\r\n    protected textReload:string='';\r\n    protected textReloadIcon:string=\"fa-search\";\r\n    protected btnInsertClass:string;\r\n    protected btnInsertIcon:any;\r\n\r\n    constructor(props:P){\r\n        super(props);      \r\n        this.state=this.gInitState(props);   \r\n        this.onCh=this.onCh.bind(this);  \r\n        this.onChUpdate=this.onChUpdate.bind(this);\r\n        this.onChLimit=this.onChLimit.bind(this);\r\n        this.callPropsSearch=this.callPropsSearch.bind(this);\r\n        this.hKeyPress=this.hKeyPress.bind(this);\r\n        this.rdrApFind=this.rdrApFind.bind(this);\r\n\r\n        this.btnInsertIcon=()=><i className=\"fa fa-plus-circle\" />\r\n        this.btnInsertClass=\"btn btn-outline-primary\";\r\n    }      \r\n  \r\n    protected gInitState(props?:P):S\r\n    {        \r\n        let state={\r\n            search:{\r\n                search:\"\",\r\n            }\r\n        };        \r\n        if(props!==undefined && props!==null && props.search){\r\n            state.search={...props.search};\r\n        }        \r\n        return state as S;\r\n    }\r\n\r\n    protected callPropsSearch(){\r\n        if(typeof this.props.onSearch===\"function\"){\r\n            this.props.onSearch(this.state.search);\r\n        }\r\n    }\r\n\r\n    protected onCh(e:IAnyEvent){\r\n        if(!e || !e.target || !e.target.name) return;                        \r\n        const search:any=this.state.search || {} as any; \r\n        search[e.currentTarget.name]=e.currentTarget.value;                        \r\n        this.setState({search:{...search}});\r\n    }\r\n\r\n    protected onChUpdate(e:IAnyEvent){\r\n        if(!e || !e.target || !e.currentTarget.name) return;        \r\n        //const {search}=this.state;\r\n        const search:any=this.state.search || {} as any;\r\n        search[e.currentTarget.name]=e.currentTarget.value;             \r\n        this.setState({search:{...search}},this.callPropsSearch);\r\n    }\r\n\r\n    protected onChLimit(e:IAnyEvent){\r\n        let limit=e.target.value===\"\"?20:parseInt(e.target.value); \r\n        if(isNaN(limit)) limit=0;\r\n        const props:any=this.props||{} as any;\r\n        let plimit=props.limit!==undefined && props.limit!==null?parseInt(props.limit):0;\r\n        if(isNaN(plimit)) plimit=0;\r\n        if(limit!==plimit && typeof this.props.onSetLimit===\"function\")\r\n        {\r\n            this.props.onSetLimit(limit);\r\n        }\r\n    }\r\n\r\n    protected hKeyPress(e:React.KeyboardEvent<HTMLInputElement>){     \r\n        if(e && e.key===\"Enter\"){\r\n            this.callPropsSearch();\r\n        }\r\n    }\r\n\r\n    protected rdrApFind():any\r\n    {\r\n        const props=this.props;\r\n        const {loading}=props;\r\n        const childs=[\r\n            <button type=\"button\" className=\"btn\" onClick={e => { e.preventDefault();  if(this.props.loading) return; typeof this.props.onReload==='function'?this.props.onReload():null; }}><i className={\"fa \" + (this.props.loading ? \"fa-spin fa-spinner\" :this.textReloadIcon)} />{this.textReload?\" \"+this.textReload:\"\"}</button>           \r\n        ];\r\n        if(props.useInsert)\r\n        {\r\n            childs.push(\r\n                <button \r\n                    type=\"button\" \r\n                    className={loading?'btn-outline-secondary':this.btnInsertClass} \r\n                    onClick={loading?undefined:this.props.onInsert}\r\n                >\r\n                    {!loading && <span>{this.btnInsertIcon?typeof this.btnInsertIcon===\"function\"?this.btnInsertIcon():this.btnInsertIcon:null}{this.textInsert?\" \"+this.textInsert:\"\"}</span>}\r\n                    {loading && <i className='fa fa-spin fa-spinner' />}\r\n                </button>\r\n            );\r\n        }\r\n        return childs;\r\n    }\r\n\r\n    render(){\r\n        const data:any=this.state.search||{};                          \r\n        return (\r\n            <div className=\"base-find noprint\">\r\n                <div className=\"input-group\">\r\n                    <div className=\"input-group-element\">\r\n                        <input type=\"text\" name=\"search\" id=\"search\" autoComplete=\"off\" placeholder=\"Keyword\" value={data.search} onChange={this.onCh} onKeyPress={this.hKeyPress} spellCheck=\"false\" />\r\n                    </div>\r\n                    <div className=\"input-group-append\">\r\n                        {this.rdrApFind()}\r\n                    </div>\r\n                </div> \r\n            </div>      \r\n        )\r\n    }\r\n}","import React,{CSSProperties, RefObject,ChangeEvent} from \"react\";\r\nimport {modal} from \"intoy-modal\";\r\nimport { isObjectEmpty } from \"intoy-utils\";\r\nimport { ajax, Iajax, IUploadProgress } from \"intoy-xhr\";\r\nimport { getConfigHeader, getDefaultBaseModalTitleInsert, getDefaultBaseModalTitleUpdate, handleAlertErrorBase } from \"./baseConfig\";\r\nimport {IBaseModalState, IBaseModalProps, IModalPromiseParameters} from \"./types\";\r\n\r\ntype IAnyEvent=ChangeEvent<HTMLInputElement>|ChangeEvent<HTMLTextAreaElement>;\r\n\r\nclass BaseModal<P extends IBaseModalProps, S extends IBaseModalState> extends React.Component<P,S>\r\n{\r\n    protected prevData:any;\r\n    protected data:any;\r\n    protected classForm:string='modalForm';\r\n    protected styleForm:CSSProperties;\r\n    protected btnSaveText:string='Simpan';\r\n    protected btnCancelText:string='Batal';\r\n    protected useEfieldId:boolean=true;\r\n    protected titleIns:string=getDefaultBaseModalTitleInsert();\r\n    protected titleUpd:string=getDefaultBaseModalTitleUpdate();\r\n\r\n    constructor(props:P){\r\n        super(props);      \r\n        this.styleForm={};\r\n        this.hUploadProgress=this.hUploadProgress.bind(this);\r\n        this.onSubmit=this.onSubmit.bind(this);   \r\n        this.onCh=this.onCh.bind(this);\r\n        this.onClSubmit=this.onClSubmit.bind(this);\r\n        this.onSuccess=this.onSuccess.bind(this);\r\n        this.prevData={...props.data};\r\n        this.data={...props.data};   \r\n        this.nodeForm=null;    \r\n        this.state=this.gInitState();\r\n    }\r\n\r\n    protected gInitState():S \r\n    {\r\n        return {loading:false,progress:null} as S;\r\n    }\r\n\r\n    protected nodeForm:RefObject<HTMLFormElement>|any\r\n\r\n    protected getIncludeFields():string[]\r\n    {\r\n        return [];\r\n    }\r\n\r\n    getEditing(){\r\n        return !isObjectEmpty(this.prevData);\r\n    }    \r\n\r\n    getSetup()\r\n    {\r\n        const editing=this.getEditing();\r\n        const setup:Iajax=\r\n        {\r\n            url:(editing?this.props.url_update||\"\":this.props.url_insert||\"\") as string,\r\n            method:\"post\",\r\n            formElement:this.nodeForm,\r\n            uploadProgress:this.hUploadProgress\r\n        };\r\n\r\n        if(editing){\r\n            setup.params={};           \r\n            if(this.useEfieldId)    \r\n            {\r\n                setup.params[this.props.fieldid]=this.prevData[this.props.fieldid];\r\n            }\r\n            setup.params[this.props.fieldid+'_lama']=this.prevData[this.props.fieldid];\r\n        }\r\n\r\n        const fields=this.getIncludeFields()||[];\r\n        if(fields.length>0)\r\n        {\r\n            if(!setup.params)\r\n            {\r\n                setup.params={};\r\n            }\r\n            for(let i=0; i<fields.length; i++)\r\n            {\r\n                let val=this.data[fields[i]];\r\n                if(val===null || val===undefined){\r\n                    val=this.prevData[fields[i]];\r\n                }\r\n                if(val!==null && val!==undefined)\r\n                {\r\n                    setup.params[fields[i]]=val;\r\n                }\r\n            }\r\n        }\r\n        const headers=getConfigHeader();\r\n        if (headers){\r\n            setup.headers={...headers};\r\n        }\r\n        return setup;\r\n    }\r\n\r\n    protected hUploadProgress(prog:IUploadProgress)\r\n    {\r\n        this.setState({progress:prog?{...prog}:null});\r\n    }\r\n\r\n    protected onSuccess(data:any)\r\n    {\r\n         if(typeof this.props.onUpdate===\"function\") this.props.onUpdate(data);\r\n         if(typeof this.props.onClose===\"function\") this.props.onClose();\r\n    }\r\n\r\n\r\n    onSubmit(e?:React.FormEvent<HTMLFormElement>){\r\n        if(e) e.preventDefault();        \r\n\r\n        this.setState({loading:true},()=>{\r\n            const setup=this.getSetup();\r\n            ajax(setup)\r\n            .then(data=>{                \r\n               this.onSuccess(data);\r\n            })\r\n            .catch(e=>{          \r\n                this.setState({loading:false,progress:null});               \r\n                handleAlertErrorBase(e);\r\n            });\r\n        });\r\n    }\r\n\r\n    onCh(e:IAnyEvent){\r\n        this.data[e.target.name]=e.target.value;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    onClSubmit(e?:React.MouseEvent){\r\n        if(e) e.preventDefault();\r\n        this.onSubmit();\r\n    }\r\n\r\n    rdrTitle():any\r\n    {           \r\n        const {loading}=this.state;\r\n        return (\r\n            <div className=\"windowTitle\">                 \r\n                <div className=\"auto\">\r\n                    {this.getEditing()?this.titleUpd+\" \":this.titleIns+\" \"}{this.props.formTitle ? this.props.formTitle : 'Data'}\r\n                </div>\r\n                <div>\r\n                    {!loading && <a className=\"close\" onClick={this.props.onClose}>&#x2716;</a>}\r\n                </div>\r\n            </div>\r\n        );        \r\n    }\r\n\r\n    rdrActions():React.ReactNode | null | undefined\r\n    {\r\n        const {loading}=this.state;        \r\n        return (\r\n            <div className=\"windowAction\">\r\n                {loading && <button type=\"button\" className={\"btn\"}>Mengirim... <i className=\"fa fa-spin fa-spinner\"/></button>}\r\n                {!loading && <button type=\"submit\" className={\"btn btn-outline-primary\"} onClick={this.onClSubmit}><i className=\"fa fa-save\" /> {this.btnSaveText} </button>}\r\n                {!loading && <button type=\"button\" className={\"btn btn-outline-danger\"} onClick={this.props.onClose} ><i className=\"fa fa-remove\" /> {this.btnCancelText}</button>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    rdrContent(){\r\n        const data=this.data||{} as any;\r\n        return (\r\n            <div className=\"windowContent\">\r\n                Use content this,....\r\n            </div>\r\n        )\r\n    }    \r\n\r\n    render():React.ReactNode\r\n    {     \r\n        const {loading,progress}=this.state;\r\n        const st1:CSSProperties={\r\n            position:\"relative\",\r\n        };         \r\n        return (\r\n            <form ref={fn=>this.nodeForm=fn} className={`${this.classForm?this.classForm:``}`} onSubmit={this.onSubmit} style={this.styleForm}>\r\n                <div className=\"wrap\" style={st1}>\r\n                    {this.rdrTitle()}\r\n                    {this.rdrContent()}\r\n                    {this.rdrActions()}\r\n                    {loading && \r\n                    <div style={\r\n                        {\r\n                            position:\"absolute\",\r\n                            width:\"100%\",\r\n                            height:\"100%\",\r\n                            overflow:\"hidden\",\r\n                            display:\"flex\",\r\n                            alignItems:\"flex-end\",\r\n                            justifyContent:\"center\",\r\n                            left:\"0\",\r\n                            top:\"0\",\r\n                            zIndex:2\r\n                        }                        \r\n                    }>\r\n                        {progress && \r\n                            <div className='relative w-2/3 gap-1'\r\n                                style={{\r\n                                    position:'relative',\r\n                                    marginBottom:\"12.5%\",\r\n                                    width:'75%',\r\n                                    display:'grid',\r\n                                    gap:'0.5rem',\r\n                                }}\r\n                                >\r\n                                <div className=\"flex justify-between text-xs\"\r\n                                    style={{\r\n                                        display:'flex',\r\n                                        justifyContent:'space-between',\r\n                                        fontSize:'0.75rem',\r\n                                    }}\r\n                                    >\r\n                                    <div>{progress.percentage.toFixed(2)}%</div>\r\n                                    <div>100%</div>\r\n                                </div>\r\n                                <div className=\"relative h-2 border rounded overflow-hidden bg-white border-blue-500\"\r\n                                    style={{\r\n                                        position:'relative',\r\n                                        border:'solid 1px #3B82F6',\r\n                                        backgroundColor:'white',\r\n                                        overflow:'hidden',\r\n                                        borderRadius:'0.25rem'\r\n                                    }}\r\n                                    >\r\n                                    <div className=\"bg-blue-500\" style={{\r\n                                        position:\"absolute\",\r\n                                        left:0,\r\n                                        top:0,\r\n                                        height:\"100%\",\r\n                                        transition:\"all 274ms ease-in-out\",\r\n                                        backgroundColor:'#3B82F6',\r\n                                        width:`${progress.percentage}%`,\r\n                                    }}/>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport {BaseModal};\r\n\r\n\r\nexport function createModalPromise({\r\n    component,\r\n    url_insert,\r\n    url_update,\r\n    formTitle,\r\n    data,\r\n    fieldid=\"id\",\r\n    ...any\r\n}:IModalPromiseParameters){    \r\n    return new Promise((resolve)=>\r\n    {\r\n        modal({\r\n            component:component?component:BaseModal,\r\n            props:{\r\n                data:data,\r\n                formTitle:formTitle,\r\n                url_insert: url_insert,   \r\n                url_update:url_update,      \r\n                fieldid:fieldid,       \r\n                ...any,\r\n                onUpdate:function(newData:any){\r\n                    resolve(newData);\r\n                }\r\n            }\r\n        });\r\n    });\r\n};","import React from \"react\";\r\nimport {toInt} from \"intoy-utils\";\r\nimport {IBasePagProps,IBasePageInfoParams,IBasePageInfo} from \"./types\";\r\n\r\nconst step=(page:number,className:string,cb?:Function)=>{\r\n    return <a title={\"kehalaman \"+page} onClick={(e:React.MouseEvent)=>{e.preventDefault();cb?cb(page):null}}><span className={className}/></a>\r\n};\r\n\r\nconst activePage=(page:number,curentPage:number,cb?:Function)=>{\r\n    let ncb=curentPage!==page?cb:null;\r\n    let classActive=curentPage===page?\"active aktif\":\"\";\r\n    return <a className={\"step \"+classActive} onClick={(e)=>{e.preventDefault(); ncb?ncb(page):null;}}><span>{page}</span></a>;\r\n};\r\n\r\n\r\n\r\ninterface IInfo {\r\n    page:string | number\r\n    limit:string | number\r\n    rowcount:string | number\r\n    totalrow:string | number\r\n}\r\n\r\nconst Info=({page,limit,rowcount,totalrow}:IInfo)=>{\r\n    page=toInt(page);\r\n    rowcount=toInt(rowcount);\r\n    totalrow=toInt(totalrow);\r\n    limit=toInt(limit);\r\n    page=page<1?1:page;\r\n    let start=((page - 1) * limit)+1;\r\n    let stop=(start + limit) - 1;\r\n    stop=stop>totalrow?totalrow:stop;\r\n\r\n    //pageInfo=Math.min(rowcount,pageInfo);\r\n    return (\r\n        <div className=\"info\"><b>{start}</b>-<b>{stop}</b>/<b>{totalrow}</b></div>\r\n    );\r\n}\r\n\r\nexport function generatePageInfo({page,pagecount,range}:IBasePageInfoParams):IBasePageInfo\r\n{\r\n    page=toInt(page);\r\n    pagecount=toInt(pagecount);\r\n    range=toInt(range);\r\n\r\n    const rangemin=(range%2===0)?(range/2)-1:(range-1)/2;\r\n    const rangemax=(range%2===0)?(rangemin+1):rangemin;\r\n\r\n    let pagemin=page - rangemin;\r\n    let pagemax=page + rangemax;\r\n    pagemin=pagemin<1?1:pagemin;\r\n    pagemax=(pagemax<(pagemin + range - 1))?pagemin+range - 1:pagemax;\r\n\r\n    if(pagemax>pagecount){\r\n        pagemin=(pagemin>1)?pagecount-range + 1 :1;\r\n        pagemax=pagecount;\r\n    }\r\n\r\n    pagemin=pagemin<1?1:pagemin;\r\n    return {\r\n        page:page,\r\n        pagecount:pagecount,\r\n        range:range,        \r\n        pagemin:pagemin,\r\n        pagemax:pagemax\r\n    }\r\n}\r\n\r\nexport function BasePag(props:IBasePagProps){    \r\n    const p=generatePageInfo({\r\n        page:toInt(props.page),\r\n        pagecount:toInt(props.pagecount),        \r\n        range:5,\r\n    } as IBasePageInfoParams);\r\n    const cond_first=p.pagecount>1 && p.page>1;\r\n    let elems:Array<any>=[];\r\n    if(cond_first){\r\n        elems.push(step(1,'first',props.onSetPage));\r\n    }\r\n    if(p.page>1 && p.page!==1){\r\n        elems.push(step(p.page-1,'prev',props.onSetPage));\r\n    }\r\n    //looping \r\n    for(let i=p.pagemin; i<p.pagemax; i++){\r\n        elems.push(activePage(i,p.page,props.onSetPage));\r\n    }\r\n\r\n    if(p.page<p.pagecount){\r\n        elems.push(step(p.page+1,'next',props.onSetPage));\r\n    }\r\n\r\n    if(p.pagecount>1 && p.page<p.pagecount){\r\n        elems.push(step(p.pagecount, 'last', props.onSetPage));\r\n    }\r\n    const dsLeft=props.dsLeft!==undefined && (props.dsLeft===true || props.dsLeft===false)?props.dsLeft:true;\r\n    const dsRight=props.dsRight!==undefined && (props.dsRight===true || props.dsRight===false)?props.dsRight:true;\r\n\r\n    let info=dsLeft||dsRight?Info({page:p.page,limit:toInt(props.limit),rowcount:toInt(props.rowcount),totalrow:toInt(props.totalrow)}):null;\r\n\r\n    let stPag:React.CSSProperties={\r\n        justifyContent:\"center\",\r\n    };\r\n    if((dsRight && !dsRight) || (!dsLeft && dsRight)){\r\n        stPag.justifyContent=!dsRight?\"flex-end\":\"flex-start;\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination\">\r\n            {props.dsLeft && info}\r\n            <div className=\"paging\" style={stPag}>{elems}</div>\r\n            {props.dsRight && info}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport { toStr, toUcWords } from \"intoy-utils\";\r\nimport {\r\n    IBaseTableProps,\r\n    IBaseSetupTable,  \r\n    IBaseField,  \r\n} from \"./types\"\r\n\r\nexport function generateFromSetupTable(table:IBaseSetupTable){\r\n    const n:any={...table};\r\n    n.table_head=[];\r\n    n.table_row=[];\r\n\r\n    if(n.fields && Array.isArray(n.fields) && n.fields.length>0){\r\n        for(let i=0; i<n.fields.length; i++){\r\n            const o=n.fields[i]||{};\r\n            let field=\"\";\r\n            if(o.alias){\r\n                field=o.alias;\r\n            }\r\n            else {\r\n                field=toUcWords(o.f);\r\n            }\r\n            field=toStr(field);\r\n            if(field.length>0){\r\n                n.table_head.push(field);\r\n                n.table_row.push({...o,f:o.f,cb:o.cb});\r\n            }\r\n        }\r\n    }\r\n    return n;\r\n}\r\n\r\nexport class BaseTable extends React.Component<IBaseTableProps>{\r\n    constructor(props:IBaseTableProps){\r\n        super(props);\r\n        this.table=generateFromSetupTable(props.table||{} as any);\r\n    }\r\n\r\n    table:any;\r\n\r\n    render(){    \r\n        const table_head=this.table.table_head||[];\r\n        const table_row=this.table.table_row||[];\r\n        const list=this.props.records||[];\r\n        let startNum=0;\r\n        const use=this.props.useUpdate||this.props.useDelete;\r\n        return (\r\n            <div className=\"base-data-table\">\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th className=\"deep\">No</th>\r\n                            {table_head.map((f:any,fidx:number)=>{\r\n                                return (\r\n                                    <th key={fidx}>{f}</th>\r\n                                )\r\n                            })}\r\n                            {use && <th className=\"deep noprint\"><i className=\"fa fa-gear\"/></th>}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>    \r\n                        {list.map((r:any,idx:number)=>{\r\n                            startNum++;\r\n                            return (\r\n                                <tr key={idx}>\r\n                                    <td className=\"deep\" align=\"center\">{startNum}</td>\r\n                                    {table_row.map((f:IBaseField, fidx:number) => {                                    \r\n                                        let val=r[f.f];\r\n                                        //console.log(\"f \",f);\r\n                                        if(typeof f.cb===\"function\"){                                        \r\n                                            try{\r\n                                                val=f.cb(r[f.f],r);\r\n                                            }\r\n                                            catch(e){\r\n                                                //console.log(e.message);\r\n                                            }\r\n                                        }\r\n                                        const tdProps:any={};\r\n                                        if(f.align){\r\n                                            tdProps.align=f.align;\r\n                                        }\r\n                                        if(f.style){\r\n                                            tdProps.style=f.style;\r\n                                        }\r\n                                        if(f.className)\r\n                                        {\r\n                                            tdProps.className=f.className;\r\n                                        }\r\n\r\n                                        return (\r\n                                            <td key={fidx} {...tdProps} >{val}</td>\r\n                                        );\r\n                                    })}\r\n                                    {use && \r\n                                    <td className=\"deep noprint\">\r\n                                        <div className=\"base-actions\">\r\n                                            <a onClick={e=>{e.preventDefault(); this.props.onUpdate?this.props.onUpdate(r):null;}} className=\"btn btn-outline-secondary btn-sm\"><i className=\"fa fa-pencil\" /></a>\r\n                                            <a onClick={e=>{e.preventDefault(); this.props.onDelete?this.props.onDelete(r):null;}} className=\"btn btn-outline-danger btn-sm\"><i className=\"fa fa-trash-o\" /></a>\r\n                                        </div>\r\n                                    </td>\r\n                                    }\r\n                                </tr>\r\n                            )\r\n                        })}                \r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Chosen} from \"intoy-chosen\";\r\nimport {isEqual, toStr} from \"intoy-utils\";\r\nimport {ajax, Iajax, ajaxCache } from \"intoy-xhr\";\r\nimport { getConfigHeader } from \"./baseConfig\";\r\nimport {IChosenListProps,IChosenListState} from \"./types\";\r\n\r\nexport class ChosenList<P extends IChosenListProps, S extends IChosenListState> extends React.Component<P,S>\r\n{\r\n    protected options:Array<any>;\r\n    protected chosenOptions:Array<any> | any;\r\n\r\n    constructor(props:P){\r\n        super(props);            \r\n\r\n        this.options=[];\r\n        this.chosenOptions=[];\r\n        this.onReload=this.onReload.bind(this); \r\n        this.doLoad=this.doLoad.bind(this);\r\n        this.state=this.getInitialState();\r\n    }\r\n    \r\n    getInitialState():S \r\n    {\r\n        return {loading:false} as S\r\n    }\r\n\r\n    applyAftRes=()=>{\r\n        this.chosenOptions=[];           \r\n        if(this.options.length>0 && this.props.sortField)\r\n        {            \r\n            this.options.sort((a:any,b:any)=>{\r\n                const val_a=a[this.props.sortField];\r\n                const val_b=b[this.props.sortField];\r\n                return val_a>val_b?1:(val_a<val_b?-1:0);\r\n            });           \r\n        }\r\n\r\n        if(this.options.length>0 && typeof this.props.onFieldName===\"function\"){            \r\n            let fieldname=toStr(this.props.fieldname).toString().trim();\r\n            let fieldid=toStr(this.props.fieldid).toString().trim();        \r\n            fieldid=fieldid.length<1?fieldname:fieldid;\r\n            const dataKeys=[];\r\n            for(let i=0; i<this.options.length; i++){\r\n                const o=this.options[i];                \r\n                if(typeof o!==\"object\") continue;\r\n                // copy to origin\r\n                for(let p in o)\r\n                {\r\n                    o[p+'_origin_']=o[p];\r\n                }\r\n                let valueId=toStr(o[fieldid]).toString().trim();               \r\n                if (dataKeys.indexOf(valueId)>=0) continue;\r\n\r\n                let label=toStr(o[fieldname]);\r\n                label = label.length < 1 ? valueId : label;\r\n                try{\r\n                    const test:any=this.props.onFieldName(o);\r\n                    if(typeof test===\"string\" && toStr(test).length>0){\r\n                        label=toStr(test).toString().trim();\r\n                    }                    \r\n                }\r\n                catch(e){\r\n                    \r\n                }\r\n                dataKeys.push(valueId);\r\n                const ops={...o};\r\n                // mixing name and value id\r\n                ops[this.props.name]=valueId;\r\n                ops[fieldid]=valueId;\r\n                ops[fieldname]=label;                  \r\n                this.chosenOptions.push(ops);\r\n            }\r\n        }\r\n        else {\r\n            this.chosenOptions=this.options;\r\n        }\r\n    }\r\n    \r\n    doLoad(){\r\n        let url=toStr(this.props.url).toString().trim();        \r\n\r\n        if(url.length<1) return false;\r\n        const se:Iajax={\r\n            url:url,\r\n            method:this.props.method?this.props.method:\"GET\",\r\n            params:{...this.props.params}\r\n        };\r\n        const headers=getConfigHeader();\r\n        if(Headers){\r\n            se.headers={...headers};\r\n        }\r\n\r\n        if(this.props.useCache)\r\n        {         \r\n            ajaxCache(se,this.props.cacheExpire)\r\n            .then((n:any)=>{\r\n                this.options=Array.isArray(n) && n.length>0?n.slice(0)\r\n                            :typeof n==='object' && n.records && Array.isArray(n.records)?n.records.slice(0)\r\n                            :[];\r\n                this.applyAftRes();\r\n                this.setState({loading:false});\r\n            })\r\n            .catch(()=>{\r\n                this.setState({loading:false});\r\n            });\r\n            return;\r\n        }\r\n        \r\n        ajax(se)\r\n        .then((n:any)=>{    \r\n            this.options=Array.isArray(n) && n.length>0?n.slice(0)\r\n                            :typeof n==='object' && n.records && Array.isArray(n.records)?n.records.slice(0)\r\n                            :[];\r\n            this.applyAftRes();\r\n            this.setState({loading:false});\r\n        })\r\n        .catch(()=>{\r\n            this.setState({loading:false});\r\n        });\r\n    }\r\n\r\n    onReload(){\r\n        let url=toStr(this.props.url).toString().trim(); \r\n        if(url.length<1) return;\r\n        this.setState({loading:true},this.doLoad);\r\n    }\r\n\r\n    componentDidMount(){        \r\n        this.onReload();\r\n    }\r\n\r\n    componentDidUpdate(prev:P){\r\n        const satu=!isEqual(this.props.params,prev.params);\r\n        const harus=satu;        \r\n        if(harus)\r\n        {           \r\n            this.onReload();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const props=this.props;\r\n        const forward:any={            \r\n            name:props.name,    \r\n            loading:this.state.loading,   \r\n            onChange:this.props.onChange,    \r\n            value:this.props.value, \r\n            fieldid:this.props.fieldid,\r\n            fieldname:this.props.fieldname,\r\n            placeholder:this.props.placeholder,                     \r\n        };       \r\n\r\n        const p=this.props as any;\r\n        \r\n        if(p.multiple===true){\r\n            forward.multiple=true; \r\n        }\r\n        \r\n        return (\r\n            <Chosen {...forward as any} options={this.chosenOptions} />\r\n        )\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport interface IBaseItemProps {\r\n    index:number\r\n    num:number\r\n\r\n    data:any\r\n\r\n    useUpdate:boolean\r\n    useDelete:boolean\r\n\r\n    onUpdate?:(data:any)=>void\r\n    onDelete?:(data:any)=>void\r\n    onReload?:()=>void\r\n\r\n    onReloadItem?:()=>void\r\n\r\n    didUpRecord?:(index:number,prev:any,current:any)=>void\r\n}\r\n\r\nexport interface IBaseItemState {\r\n    open:boolean\r\n}\r\n\r\nclass Item<P extends IBaseItemProps,S extends IBaseItemState> extends React.Component<P,S>\r\n{\r\n    constructor(props:P)\r\n    {\r\n        super(props);\r\n        this.gInitState=this.gInitState.bind(this);\r\n        this.state=this.gInitState(props);\r\n\r\n        this.onTgOpen=this.onTgOpen.bind(this);\r\n        this.onReloadSelf=this.onReloadSelf.bind(this);\r\n        this.rdrChild=this.rdrChild.bind(this);\r\n    }\r\n\r\n    protected gInitState(props?:P):S\r\n    {\r\n        props=props?props:this.props;\r\n        return {\r\n            open:false,\r\n        } as S;\r\n    }\r\n\r\n    onTgOpen(e?:React.MouseEvent){\r\n        if(e) e.preventDefault();\r\n        this.setState({open:!this.state.open});\r\n    }\r\n\r\n    onReloadSelf()\r\n    {\r\n\r\n    }\r\n\r\n    rdrChild():any\r\n    {\r\n\r\n    }\r\n}\r\n\r\n\r\nexport {Item}","import React from \"react\";\r\nimport { ajax, Iajax } from \"intoy-xhr\";\r\nimport { getConfigHeader } from \"./baseConfig\";\r\n\r\nexport interface IBaseLoaderProps {\r\n    url?:string\r\n    params?:any\r\n    method?:string\r\n}\r\n\r\nexport interface IBaseLoaderState {\r\n    loading:boolean\r\n    error:any\r\n}\r\n\r\nclass BaseLoader<P extends IBaseLoaderProps, S extends IBaseLoaderState> extends React.Component<P,S>\r\n{\r\n    protected res:any\r\n    constructor(props:P)\r\n    {\r\n        super(props);\r\n        this.res=null;\r\n        this.doLoad=this.doLoad.bind(this);\r\n        this.onReload=this.onReload.bind(this);\r\n    }\r\n\r\n    protected getStp():Iajax\r\n    {\r\n        const se:Iajax={\r\n            url:(this.props.url??'') as string,\r\n            params:this.props.params,\r\n            method:(this.props.method??'GET'),\r\n            headers:getConfigHeader(),\r\n        }    \r\n        return se;\r\n    }\r\n\r\n    protected doLoad()\r\n    {\r\n        const se:Iajax=this.getStp();\r\n        ajax(se)\r\n        .then((n:any)=>{\r\n            this.res={...n};\r\n            this.setState({loading:false,error:null});\r\n        })\r\n        .catch(e=>{\r\n            this.res=null;\r\n            this.setState({loading:false,error:e});\r\n        });\r\n    }\r\n\r\n    protected onReload(e?:React.MouseEvent)\r\n    {\r\n        if(e) e.preventDefault();\r\n        this.setState({loading:false,error:null},this.doLoad);\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        if(this.props.url && this.props.url.length>0) this.onReload();\r\n    }\r\n}\r\n\r\nexport {BaseLoader}","import { AlertError, AlertWarn } from \"intoy-modal\";\r\nimport { IajaxException } from \"intoy-xhr\";\r\nimport { IBaseDeleteRequestType } from \"./types\";\r\n\r\nlet header:any;\r\nlet defaultDeleteRequestType:IBaseDeleteRequestType=\"qparams\";\r\nlet defaultBaseModalTitleInsert:string=\"New\";\r\nlet defaultBaseModalTitleUpdate:string=\"Edit\";\r\n\r\nexport function getDefaultDeleteRequestType():IBaseDeleteRequestType\r\n{\r\n    return defaultDeleteRequestType;\r\n}\r\n\r\nexport function setDefaultDeleteRequestType(value:IBaseDeleteRequestType)\r\n{\r\n    defaultDeleteRequestType=value;\r\n}\r\n\r\nexport function getDefaultBaseModalTitleInsert():string\r\n{\r\n    return defaultBaseModalTitleInsert;\r\n}\r\n\r\nexport function setDefaultBaseModalTitleInsert(value:string)\r\n{\r\n    defaultBaseModalTitleInsert=value;\r\n}\r\n\r\nexport function getDefaultBaseModalTitleUpdate():string\r\n{\r\n    return defaultBaseModalTitleUpdate;\r\n}\r\n\r\nexport function setDefaultBaseModalTitleUpdate(value:string)\r\n{\r\n    defaultBaseModalTitleUpdate=value;\r\n}\r\n\r\nexport function setConfigHeader(newHeader:any)\r\n{     \r\n    header=newHeader?newHeader:null;\r\n}\r\n\r\nexport function getConfigHeader(){    \r\n    let result;    \r\n    if(header){\r\n        if(typeof header===\"string\"){\r\n            result={\r\n                'Authorization': 'Bearer ' + header\r\n            }\r\n        }\r\n    }    \r\n    return result; \r\n}\r\n\r\ntype IappendHBase = {\r\n    msg_before?:string\r\n    msg_after?:string\r\n}\r\n\r\nexport function handleAlertErrorBase(e:IajaxException,ops?:IappendHBase)\r\n{\r\n    let code=e.code;\r\n    //409 error parse atau HTTP conflict\r\n    if(e.xhr && e.xhr.status!==e.code && e.code!==409)\r\n    {\r\n        code=e.xhr.status;\r\n    }\r\n\r\n    const codeWarnings=[400,409,422]; // \r\n    // 400 Bad Request\r\n    // 409 Conflict parse atau HTTP Conflict\r\n    // 422 Unprcesable Entity\r\n    const inWarning=codeWarnings.indexOf(code)>=0;\r\n    let title=e.title;\r\n    let message=e.message;\r\n    if(inWarning || code===403){\r\n        title=code+' Bad Request';\r\n        if(code===409){\r\n            title='Conflict';\r\n        }\r\n        if(code===422){\r\n            title=code+' Unprocessable';            \r\n        }\r\n        if(code===403)\r\n        {\r\n            title=\"Access Denied \"+code;\r\n        }\r\n    }\r\n    if(ops!==undefined && ops!==null)    \r\n    {\r\n        if(ops.msg_before!==undefined && (ops.msg_before||'').toString().trim().length>0)\r\n        {\r\n            message=ops.msg_before.toString().trim()+'. '+message;\r\n        }\r\n\r\n        if(ops.msg_after!==undefined && (ops.msg_after||'').toString().trim().length>0)\r\n        {\r\n            message+='. '+ops.msg_after;\r\n        }\r\n    }\r\n    const func=inWarning?AlertWarn:AlertError;\r\n    func(title,message,'OK');\r\n}","export * from \"./Base\";\r\nexport * from \"./BaseFind\";\r\nexport * from \"./BasePag\";\r\nexport * from \"./BaseTable\";\r\nexport * from \"./BaseModal\";\r\nexport * from \"./ChosenList\";\r\nexport * from \"./Item\";\r\nexport * from \"./Loader\";\r\nexport * from \"./baseConfig\";\r\nexport * from \"./types\";","import {CSSProperties} from \"react\";\r\n\r\nexport type IBaseField = {\r\n    f:string,\r\n    alias:string,\r\n    cb?:Function\r\n    align?:\"left\" | \"center\" | \"right\" | \"justify\" | \"char\"\r\n    className?:string\r\n    style?:CSSProperties\r\n}\r\n\r\n// delete request default : dengan sibling path contoh : data/{id_param}\r\n// delete request qparams : dengan sibling dengan query params. contoh : data?id_param=value_id_param\r\nexport type IBaseDeleteRequestType=\"default\"|\"qparams\";\r\n\r\nexport type IBaseRequest = {\r\n    search:any\r\n    page:number\r\n    limit:number\r\n}\r\n\r\nexport type IBaseResponse = {\r\n    limit:number\r\n    page:number\r\n    pagecount:number\r\n    rowcount:number\r\n    totalrow:number\r\n    records:any[]\r\n}\r\n\r\nexport type IBaseSetupTable = {\r\n    dataName?:string\r\n    fieldid:string | string[]\r\n    fields?:IBaseField[]\r\n    sortField?:string\r\n    sortFieldType?:\"string\"|\"integer\"|\"double\"\r\n}\r\n\r\nexport type IBaseSearch = {    \r\n    search:string\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBaseState = {\r\n    loadedCount:number,\r\n    loading:boolean,\r\n    error:any,\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBaseFindProps = {\r\n    search?:IBaseSearch\r\n    loading?:Boolean\r\n    limit?:number\r\n    useInsert?:boolean\r\n    onSetLimit?:(limi:number)=>void\r\n    onReload?:()=>void\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBaseFindState = {\r\n    search:IBaseSearch\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBaseTableItemProps = {\r\n    num?:number\r\n    loading?:boolean    \r\n    useUpdate?:boolean\r\n    useDelete?:boolean\r\n    data?:any\r\n\r\n    onUpdate?:(data:any)=>void\r\n    onDelete?:(data:any)=>void\r\n}\r\n\r\n\r\nexport type IBaseTableProps = {\r\n    loading?:boolean\r\n    \r\n    records:any[]\r\n    page:number\r\n    limit:number\r\n\r\n    table?:IBaseSetupTable\r\n\r\n    useUpdate?:boolean\r\n    useDelete?:boolean\r\n\r\n    onUpdate?:(data:any)=>void\r\n    onDelete?:(data:any)=>void\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBasePagOptions = {\r\n    page:string | number\r\n    pagecount:string | number\r\n    limit:string | number\r\n    rowcount:string | number\r\n    totalrow:string | number\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBasePagProps = IBasePagOptions & {\r\n    dsLeft?:boolean\r\n    dsRight?:boolean\r\n    onSetPage:(page:number)=>void\r\n}\r\n\r\nexport type IBasePageInfoParams = {\r\n    page:number\r\n    pagecount:number\r\n    range:number\r\n}\r\n\r\nexport type IBasePageInfo = {\r\n    page:number\r\n    pagecount:number\r\n    range:number\r\n    pagemin:number\r\n    pagemax:number\r\n}\r\n\r\nexport type IBaseModalProps = {\r\n    fieldid:string\r\n\r\n    data?:any\r\n    url_insert?:string\r\n    url_update?:string\r\n    formTitle?:string\r\n\r\n    onClose?:()=>void\r\n    onUpdate?:(newData:any)=>void\r\n    [p:string]:any\r\n}\r\n\r\ntype IUploadProgress = {\r\n    loaded:number\r\n    total:number\r\n    percentage:number\r\n}\r\n\r\nexport type IBaseModalState = {\r\n    loading:boolean\r\n    progress:IUploadProgress|null\r\n}\r\n\r\nexport type IBaseFormProps = {\r\n    fieldid:string\r\n    data?:any\r\n    url_insert?:string    \r\n    url_update?:string\r\n    formTitle?:string\r\n\r\n    onClose?:()=>void\r\n    onUpdate?:(n:any)=>void\r\n}\r\n\r\nexport type IBaseFormState = {\r\n    loading:boolean\r\n}\r\n\r\nexport type IModalPromiseParameters = IBaseModalProps & {\r\n    component?:any    \r\n}\r\n\r\nexport type IBaseOptionSearchArrayObject = {\r\n    arrayObj:any[]\r\n    field:string,\r\n    value:string | number,\r\n    sensitive?:boolean\r\n}\r\n\r\nexport type IBaseProps = {\r\n    className?:string\r\n    \r\n    url_data?:string\r\n    url_delete?:string\r\n    url_delete_UsingPath?:boolean //delete/:field_primary\r\n    url_delete_MethodPath?:string //DELETE\r\n\r\n    table:IBaseSetupTable\r\n\r\n    useInsert:boolean\r\n    useUpdate:boolean\r\n    useDelete:boolean    \r\n\r\n    limit?:number\r\n    \r\n    compFind?:any\r\n    compTbl?:any\r\n    compPag?:any\r\n    compForm?:any\r\n\r\n    [p:string]:any\r\n}\r\n\r\nexport type IChosenListProps = {\r\n    url:string\r\n    params?:any\r\n    method?:string\r\n    name:string\r\n    value:string | number | null | undefined\r\n    fieldid:string\r\n    fieldname:string\r\n    placeholder?:string\r\n    multiple?:boolean\r\n    sortField?:string\r\n    useCache?:boolean\r\n    cacheExpire?:number\r\n    onFieldName?:(data:any)=>void    \r\n    onChange:(e:any)=>void\r\n}\r\n\r\nexport type IChosenListState = {\r\n    loading:boolean\r\n}\r\n\r\n\r\nexport function handleResponseSelf(this:any,response:any)\r\n{\r\n    const hasSelfRes=this.res!==undefined && this.res!==null && typeof this.res===\"object\";\r\n    if(!hasSelfRes) return;\r\n    const res=response;\r\n    if(res && res.records && Array.isArray(res.records))\r\n    {\r\n        //copy response\r\n        this.res={...res};\r\n        this.res.records=res.records.slice(0);\r\n        this.res.page=this.res.page!==undefined && this.res.page!==null?this.res.page:1;\r\n        this.res.pagecount=this.res.pagecount!==undefined && this.res.pagecount!==null?this.res.pagecount:1;\r\n        this.res.totalrow=this.res.totalrow===undefined || this.res.totalrow===null?this.res.records.length:this.res.totalrow;\r\n        this.res.rowcount=this.res.rowcount===undefined || this.res.rowcount===null?this.res.records.length:this.res.rowcount;\r\n        //normalize response\r\n        this.res.limit=res.limit!==undefined && res.limit!==null?res.limit:this.req.limit;\r\n        this.res.page=this.res.page<1?1:this.res.page;\r\n        this.res.pagecount=this.res.pagecount<1?1:this.res.pagecount;\r\n        this.res.totalrow=this.res.totalrow<0?0:this.res.totalrow;\r\n        this.res.rowcount=this.res.rowcount<0?0:this.res.rowcount;\r\n        this.res.rowcount=this.res.rowcount>this.res.totalrow?this.res.totalrow:this.res.rowcount;\r\n        this.records=this.res.records.slice(0);\r\n        // delete res response records\r\n        this.res.records=[];\r\n    }\r\n    else \r\n    if(Array.isArray(res))\r\n    {\r\n        //attach res as records\r\n        this.records=res.slice(0);\r\n        this.res.page=1;\r\n        this.res.pagecount=1;\r\n        this.res.totalrow=this.records.length;\r\n        this.res.rowcount=this.res.totalrow;\r\n    }\r\n    else {\r\n        //reset data\r\n        this.records=[];\r\n        this.res.page=1;\r\n        this.res.pagecount=1;\r\n        this.res.totalrow=0;\r\n        this.res.rowcount=0;\r\n    }       \r\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__926__;","module.exports = __WEBPACK_EXTERNAL_MODULE__875__;","module.exports = __WEBPACK_EXTERNAL_MODULE__269__;","module.exports = __WEBPACK_EXTERNAL_MODULE__986__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(976);\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__926__","__WEBPACK_EXTERNAL_MODULE__875__","__WEBPACK_EXTERNAL_MODULE__269__","__WEBPACK_EXTERNAL_MODULE__986__","__WEBPACK_EXTERNAL_MODULE__156__","Base","props","updOnDidUpRecord","clrDataOnFailed","delReqTipe","getDefaultDeleteRequestType","onSetLimit","limit","req","onReload","lodOv","onSearch","bind","doReload","onInsert","onUpdate","onDelete","onAftInsert","onAftUpdate","onAftDelete","doSndDelete","onSetPage","didUpRecord","onItemBeforeUpdate","onItemUpdated","didUpList","handResp","handSort","handRespAft","rdrChilds","rdrFind","rdrTable","rdrPag","search","toString","asgFieldShow","records","page","res","pagecount","rowcount","totalrow","state","gInitState","loadedCount","loading","error","ops","this","text","setText","LoadingOverlay","clickClose","open","destroy","po","index","p","toStr","field","trim","Array","isArray","arrayObj","length","val","value","sensitive","toUpperCase","i","o","b","prevData","current","forceUpdate","item","slice","undefined","table","sortField","f","st","sortFieldType","sort","a","valA","valB","indexOf","parseFloat","setState","params","setup","url","url_data","headers","getConfigHeader","getSetup","ajax","then","data","handFilter","e","console","warn","newSearch","isEqual","newData","callable","compForm","fieldid","reloanOnDelete","reloadOnDeleted","getIndexArrayObj","splice","str","par","dataName","fields","substring","fName","alias","lval","push","toUcWords","join","se","url_delete","method","rTrim","su","URLSearchParams","genreQParams","fieldNames","values","obj","genreDefault","ovOpen","info","ovClose","handleAlertErrorBase","getMsgDel","after","AlertExclam","getSetupDel","toInt","useInsert","useUpdate","useDelete","dsLeft","dsRight","Comp","compFind","getFndProps","compTbl","getTblProps","compPag","getPagProps","className","Component","BaseFind","textInsert","textReload","textReloadIcon","onCh","onChUpdate","onChLimit","callPropsSearch","hKeyPress","rdrApFind","btnInsertIcon","btnInsertClass","target","name","currentTarget","parseInt","isNaN","plimit","key","childs","type","onClick","preventDefault","id","autoComplete","placeholder","onChange","onKeyPress","spellCheck","BaseModal","classForm","btnSaveText","btnCancelText","useEfieldId","titleIns","getDefaultBaseModalTitleInsert","titleUpd","getDefaultBaseModalTitleUpdate","styleForm","hUploadProgress","onSubmit","onClSubmit","onSuccess","nodeForm","progress","isObjectEmpty","editing","getEditing","url_update","url_insert","formElement","uploadProgress","getIncludeFields","prog","onClose","formTitle","ref","fn","style","position","rdrTitle","rdrContent","rdrActions","width","height","overflow","display","alignItems","justifyContent","left","top","zIndex","marginBottom","gap","fontSize","percentage","toFixed","border","backgroundColor","borderRadius","transition","component","any","Promise","resolve","modal","step","cb","title","activePage","curentPage","ncb","classActive","generatePageInfo","range","rangemin","pagemin","pagemax","elems","start","stop","Info","stPag","generateFromSetupTable","n","table_head","table_row","BaseTable","list","startNum","use","map","fidx","r","idx","align","tdProps","ChosenList","applyAftRes","chosenOptions","options","val_a","val_b","onFieldName","fieldname","dataKeys","valueId","label","test","doLoad","getInitialState","Headers","useCache","ajaxCache","cacheExpire","prev","forward","multiple","Chosen","Item","onTgOpen","onReloadSelf","rdrChild","BaseLoader","getStp","header","defaultDeleteRequestType","defaultBaseModalTitleInsert","defaultBaseModalTitleUpdate","newHeader","result","code","xhr","status","inWarning","message","msg_before","msg_after","AlertWarn","AlertError","response","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}