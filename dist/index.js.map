{"version":3,"file":"index.js","mappings":"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","sources":["webpack://index/webpack/universalModuleDefinition","webpack://index/./src/Base.tsx","webpack://index/./src/BaseFind.tsx","webpack://index/./src/BaseModal.tsx","webpack://index/./src/BasePag.tsx","webpack://index/./src/BaseTable.tsx","webpack://index/./src/ChosenList.tsx","webpack://index/./src/Item.tsx","webpack://index/./src/Loader.tsx","webpack://index/./src/SelectList.tsx","webpack://index/./src/baseConfig.ts","webpack://index/./src/index.tsx","webpack://index/./src/types.ts","webpack://index/external umd \"intoy-chosen\"","webpack://index/external umd \"intoy-modal\"","webpack://index/external umd \"intoy-select\"","webpack://index/external umd \"intoy-utils\"","webpack://index/external umd \"intoy-xhr\"","webpack://index/external umd \"react\"","webpack://index/webpack/bootstrap","webpack://index/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"intoy-chosen\"), require(\"intoy-modal\"), require(\"intoy-select\"), require(\"intoy-utils\"), require(\"intoy-xhr\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"index\", [\"intoy-chosen\", \"intoy-modal\", \"intoy-select\", \"intoy-utils\", \"intoy-xhr\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"index\"] = factory(require(\"intoy-chosen\"), require(\"intoy-modal\"), require(\"intoy-select\"), require(\"intoy-utils\"), require(\"intoy-xhr\"), require(\"react\"));\n\telse\n\t\troot[\"index\"] = factory(root[\"intoy-chosen\"], root[\"intoy-modal\"], root[\"intoy-select\"], root[\"intoy-utils\"], root[\"intoy-xhr\"], root[\"react\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__926__, __WEBPACK_EXTERNAL_MODULE__875__, __WEBPACK_EXTERNAL_MODULE__22__, __WEBPACK_EXTERNAL_MODULE__269__, __WEBPACK_EXTERNAL_MODULE__986__, __WEBPACK_EXTERNAL_MODULE__156__) {\nreturn ","import React, { ReactNode } from \"react\";\r\nimport { LoadingOverlay, AlertExclam } from \"intoy-modal\"\r\nimport { isEqual, rTrim, toInt, toStr, toUcWords} from \"intoy-utils\";\r\nimport { ajax, Iajax } from \"intoy-xhr\";\r\nimport { baseResAttrGet, getConfigHeader, getDefaultDeleteRequestType, handleAlertErrorBase } from \"./baseConfig\";\r\nimport {    \r\n    IBaseProps,    \r\n    IBaseSearch,\r\n    IBaseState,\r\n    IBaseSetupTable,\r\n    IBasePagProps,\r\n    IBaseOptionSearchArrayObject,\r\n    IBaseRequest,\r\n    IBaseResponse,\r\n    IBaseDeleteRequestType\r\n} from \"./types\";\r\n\r\n\r\nexport class Base<P extends IBaseProps, S extends IBaseState> extends React.Component<P,S> \r\n{    \r\n    protected lodOv:LoadingOverlay<any>|null;\r\n\r\n    protected search:IBaseSearch;    \r\n    protected records:any;   \r\n    protected req:IBaseRequest;\r\n    protected res:IBaseResponse; \r\n\r\n    //informasi field yang ditampilkan ketika akan dihapus\r\n    protected asgFieldShow:number;\r\n\r\n    /// apakah harus force update ketika ada record yang diupdate\r\n    protected updOnDidUpRecord:boolean=false;\r\n    // apakah data harus dihapus ketika loaded tidak berhasil\r\n    protected clrDataOnFailed:boolean=false;\r\n\r\n    // jenis request delete\r\n    protected delReqTipe:IBaseDeleteRequestType=getDefaultDeleteRequestType();\r\n\r\n    constructor(props:P){        \r\n        super(props);\r\n        this.lodOv=null;\r\n\r\n        this.onSearch=this.onSearch.bind(this);\r\n        \r\n        this.doReload=this.doReload.bind(this);\r\n        this.onReload=this.onReload.bind(this);\r\n\r\n        this.onInsert=this.onInsert.bind(this);\r\n        this.onUpdate=this.onUpdate.bind(this);\r\n        this.onDelete=this.onDelete.bind(this);\r\n\r\n        this.onAftInsert=this.onAftInsert.bind(this);\r\n        this.onAftUpdate=this.onAftUpdate.bind(this);\r\n        this.onAftDelete=this.onAftDelete.bind(this);\r\n\r\n        this.doSndDelete=this.doSndDelete.bind(this);\r\n        this.onSetPage=this.onSetPage.bind(this);\r\n\r\n        this.didUpRecord=this.didUpRecord.bind(this);\r\n        this.onItemBeforeUpdate = this.onItemBeforeUpdate.bind(this);\r\n        this.onItemUpdated=this.onItemUpdated.bind(this);\r\n        this.didUpList=this.didUpList.bind(this);\r\n\r\n        this.handResp=this.handResp.bind(this);\r\n        this.handSort=this.handSort.bind(this);\r\n        this.handRespAft=this.handRespAft.bind(this);\r\n\r\n        this.rdrChilds=this.rdrChilds.bind(this);\r\n        this.rdrFind=this.rdrFind.bind(this);\r\n        this.rdrTable=this.rdrTable.bind(this);\r\n        this.rdrPag=this.rdrPag.bind(this);        \r\n        \r\n        this.search={\r\n            search:typeof props.search===\"number\" || typeof props.search===\"string\"?props.search.toString():\"\",           \r\n        };      \r\n\r\n        this.asgFieldShow=2;\r\n        \r\n        this.records=[];\r\n        this.req={\r\n            page:1,\r\n            limit:props.limit?props.limit:20,\r\n            search:{},\r\n        } as IBaseRequest;\r\n\r\n        this.res={\r\n            limit:this.req.limit,\r\n            page:1,\r\n            pagecount:1,\r\n            rowcount:0,\r\n            totalrow:0,\r\n            records:[],\r\n        } as IBaseResponse;         \r\n        \r\n        this.state=this.gInitState(props);\r\n\r\n    }\r\n\r\n    protected gInitState(props?:P):S\r\n    {\r\n        return {loadedCount:0,loading:false,error:null} as S;\r\n    }\r\n\r\n    protected ovOpen(ops?:any)\r\n    {\r\n        if(this.lodOv)\r\n        {\r\n            if(ops && ops.text)            \r\n            {\r\n                this.lodOv.setText(ops.text);\r\n            }\r\n            return;\r\n        }\r\n        this.lodOv=new LoadingOverlay({clickClose:false,...ops});\r\n        this.lodOv.open();\r\n    }\r\n\r\n    protected ovClose()\r\n    {\r\n        if(!this.lodOv) return;\r\n        this.lodOv.destroy();\r\n        this.lodOv=null;\r\n    }\r\n\r\n    protected getIndexArrayObj(props:IBaseOptionSearchArrayObject)\r\n    {\r\n\r\n        const po=props?props:{} as IBaseOptionSearchArrayObject; \r\n        let index=-1;\r\n        let p=toStr(po.field).toString().trim();\r\n        if(!Array.isArray(po.arrayObj) || p.length<1) return index;\r\n        let val=toStr(po.value).toString().trim();\r\n        if(!po.sensitive){\r\n            val=val.toUpperCase();\r\n        }\r\n        for(let i=0; i<po.arrayObj.length; i++){\r\n            const o:any=po.arrayObj[i] as any;\r\n            const iso=typeof o===\"object\" && !Array.isArray(o);\r\n            if(!iso) continue;\r\n\r\n            let b=toStr(o[po.field]).toString().trim();\r\n            if(!po.sensitive){\r\n                b=b.toUpperCase().trim();\r\n            }\r\n            if(val===b){\r\n                index=i;\r\n                break;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n\r\n    //ketika hanya satu record yang harus diupdate    \r\n    protected didUpRecord(index:number,prevData:any,current:any)\r\n    {   \r\n        const isTrue=index>=0 && current && Array.isArray(this.records) && this.records.length>0 && index<=this.records.length-1;        \r\n        if(isTrue)\r\n        {\r\n            this.records[index]={...current};\r\n            this.onItemUpdated();\r\n            //you must re render for update childs record for graduaded  \r\n            if(this.updOnDidUpRecord)\r\n            {\r\n                this.forceUpdate();\r\n            }\r\n        }\r\n    }\r\n\r\n    // ketika salah satu item record akan di bind ke array records\r\n    protected onItemBeforeUpdate(item:any)\r\n    {\r\n\r\n    }\r\n\r\n    // ketika salah satu di item records di update\r\n    protected onItemUpdated()\r\n    {\r\n\r\n    }\r\n\r\n    //ketika harus meload kembali ketika ada proses submit form insert/update/delete berhasil\r\n    protected didUpList()\r\n    {\r\n\r\n    }\r\n\r\n    protected handResp(res:any)\r\n    {   \r\n        const attr=baseResAttrGet();\r\n        if(res && ((res as any)[attr.records] && Array.isArray((res as any)[attr.records])) )\r\n        {\r\n            //copy response\r\n            this.res={...res};\r\n            this.res.records=(res as any)[attr.records].slice(0);\r\n            this.res.page=(res as any)[attr.page]!==undefined && (res as any)[attr.page]!==null?(res as any)[attr.page]:1;\r\n            this.res.pagecount=(res as any)[attr.pagecount]!==undefined && (res as any)[attr.pagecount]!==null?(res as any)[attr.pagecount]:1;\r\n            this.res.totalrow=(res as any)[attr.totalrow]!==undefined && (res as any)[attr.totalrow]!==null?(res as any)[attr.totalrow]:this.res.records.length;\r\n            this.res.rowcount=(res as any)[attr.rowcount]!==undefined && (res as any)[attr.rowcount]!==null?(res as any)[attr.rowcount]:this.res.records.length;\r\n            this.res.limit=(res as any)[attr.limit]!==undefined && (res as any)[attr.limit]!==null?(res as any)[attr.limit]:this.req.limit;\r\n            //normalize response\r\n            this.res.page=this.res.page<1?1:this.res.page;\r\n            this.res.pagecount=this.res.pagecount<1?1:this.res.pagecount;\r\n            this.res.totalrow=this.res.totalrow<0?0:this.res.totalrow;\r\n            this.res.rowcount=this.res.rowcount<0?0:this.res.rowcount;\r\n            this.res.rowcount=this.res.rowcount>this.res.totalrow?this.res.totalrow:this.res.rowcount;\r\n            this.records=this.res.records.slice(0);\r\n            // delete res response records\r\n            this.res.records=[];\r\n        }\r\n        else \r\n        if(Array.isArray(res))\r\n        {\r\n            //attach res as records\r\n            this.records=res.slice(0);\r\n            this.res.page=1;\r\n            this.res.pagecount=1;\r\n            this.res.rowcount=this.records.length;\r\n            this.res.totalrow=toInt(this.res.totalrow);\r\n            this.res.totalrow=this.res.totalrow<this.res.rowcount?this.res.rowcount:this.res.totalrow;\r\n        }\r\n        else {\r\n            //reset data\r\n            this.records=[];\r\n            this.res.page=1;\r\n            this.res.pagecount=1;\r\n            this.res.totalrow=0;\r\n            this.res.rowcount=0;\r\n        }       \r\n    }\r\n\r\n    protected handSort()\r\n    {\r\n        const isTrue=Array.isArray(this.records) && this.records.length>0\r\n                    && this.props.table \r\n                    && this.props.table.sortField!==undefined\r\n                    && this.props.table.sortField!==null\r\n                    ;\r\n        if(!isTrue) return;\r\n\r\n        const f=this.props.table.sortField||\"index\";\r\n        const st=this.props.table.sortFieldType||\"string\";\r\n        this.records.sort((a:any,b:any)=>{\r\n            let valA:any=a[f];\r\n            let valB:any=b[f];\r\n            if([\"integer\",\"double\"].indexOf(st)>=0)\r\n            {\r\n                valA=parseFloat(valA);\r\n                valB=parseFloat(valB);\r\n            }            \r\n            return valA>valB?1:valA<valB?-1:0;\r\n        })\r\n    }\r\n\r\n    protected handFilter()\r\n    {\r\n\r\n    }\r\n\r\n    protected handRespAft(success?:boolean)\r\n    {\r\n        this.setState({loadedCount:this.state.loadedCount+1,loading:false,error:null});\r\n    }\r\n    \r\n    protected getSetup(params?:any):Iajax\r\n    {\r\n        const setup:Iajax={\r\n            url:this.props.url_data?this.props.url_data.toString().trim():\"\",\r\n        }\r\n        if(params)\r\n        {\r\n            setup.params={...params};\r\n        }\r\n\r\n        const headers=getConfigHeader();\r\n        \r\n        if(headers){\r\n            setup.headers={...headers};\r\n        }\r\n        return setup;\r\n    }\r\n\r\n    doReload()\r\n    {      \r\n        const req={...this.req};\r\n        if(this.res.pagecount>0 && req.page>this.res.pagecount)\r\n        {\r\n            req.page=this.res.pagecount;            \r\n        }\r\n\r\n        const setup=this.getSetup({\r\n            ...req,\r\n            ...this.search\r\n        });\r\n\r\n        const headers:any=getConfigHeader();\r\n        \r\n        if(headers){\r\n            setup.headers={...headers};\r\n        }\r\n        \r\n        ajax(setup)\r\n        .then(data=>{ \r\n            this.handResp(data);\r\n            this.handSort();\r\n            this.handFilter();\r\n            this.handRespAft();            \r\n        })\r\n        .catch(e=>{\r\n            if(this.clrDataOnFailed)\r\n            {\r\n                this.handResp(null);\r\n                this.handRespAft(false);\r\n                return;\r\n            }\r\n            this.handRespAft(false);\r\n        });\r\n    }\r\n\r\n    onReload()\r\n    {   \r\n        if(this.state.loading){\r\n            console.warn(\"Base multiple calling reload at sometime\");            \r\n        }       \r\n        this.setState({ loading: true },this.doReload);             \r\n    }\r\n\r\n    onSearch(newSearch:IBaseSearch){                \r\n        if(!isEqual(this.search,newSearch)){                        \r\n            this.search={...newSearch};\r\n            //page harus direset karena terjadi perubahan permintaan keserver \r\n            this.req.page=1;\r\n            this.onReload();\r\n        }\r\n    }    \r\n\r\n    onAftInsert(newData:any)\r\n    {\r\n        this.didUpList();\r\n        this.onReload();        \r\n    }\r\n\r\n    onInsert(){\r\n        const callable=this.props.compForm;\r\n        if(!callable) return;\r\n\r\n        callable().then((newData:any) =>{\r\n            this.onAftInsert(newData);\r\n        });\r\n    }\r\n\r\n    onAftUpdate(newData:any)\r\n    {\r\n        this.didUpList();\r\n        this.onReload();\r\n    }\r\n\r\n    onUpdate(data:any){\r\n        const callable=this.props.compForm;\r\n        if(!callable) return;\r\n        callable({\r\n            data:data\r\n        }).then((newData:any)=>{\r\n            this.onAftUpdate(newData);\r\n        });\r\n    }\r\n\r\n    onAftDelete(data:any,fieldid:any,value:any)\r\n    {\r\n        let reloanOnDelete=this.props.reloadOnDeleted===true;\r\n        let index=-1;\r\n        if(!reloanOnDelete){\r\n            index=this.getIndexArrayObj({\r\n                arrayObj:this.records,\r\n                field:fieldid,\r\n                value:value,                \r\n            });\r\n        }\r\n        \r\n        if(index>=0 && !reloanOnDelete){\r\n            //cancel reload splice record\r\n            this.records.splice(index,1);\r\n            if(this.records.length>0)\r\n            {\r\n                this.didUpList();\r\n                this.forceUpdate();\r\n                return;\r\n            }\r\n            reloanOnDelete=true;\r\n        }        \r\n\r\n        this.didUpList();\r\n        this.onReload();\r\n    }\r\n\r\n    protected getMsgDel(data:any):string\r\n    {\r\n        if(!data) return \"\";\r\n\r\n        const table:IBaseSetupTable=this.props.table||{} as IBaseSetupTable;\r\n        const fieldid=table.fieldid;\r\n        const d:any={};       \r\n        \r\n        let str=\"\";\r\n        let par=[];        \r\n        let dataName=\"\";\r\n        if(fieldid){\r\n            d[fieldid as string]=data[fieldid as string];\r\n        }\r\n\r\n        if(toStr(table.dataName).toString().trim().length>0){\r\n            dataName=toStr(table.dataName).toString().trim();\r\n        }\r\n        \r\n        if(table.fields && table.fields.length>0){\r\n            for(let i=0; i<table.fields.length; i++){\r\n                const f=table.fields[i];\r\n                let val=toStr(data[f.f]);\r\n                if(val.length>0){\r\n                    if(val.length>50){\r\n                        val=val.substring(0,50)+'..';\r\n                    }\r\n                    let fName:string=toStr(table.fields[i].alias);\r\n                    let lval:string='<b>'+val+'</b>';\r\n                    if(fName.length>0){\r\n                        lval=fName+' '+lval;\r\n                    }\r\n                    par.push(lval);\r\n                }\r\n                if(par.length>=this.asgFieldShow) break;\r\n            }\r\n        }                 \r\n\r\n        if(dataName.length>0) str+=toUcWords(dataName);    \r\n        if(par.length>0){\r\n            if(str.length>0){\r\n                str+=\" item\";\r\n            }\r\n            else {\r\n                str+=\"Item\";\r\n            }\r\n\r\n            str+=\" data \"+par.join(\", \")+\"\";\r\n        }        \r\n        str+=\" akan dihapus.\";\r\n        return str;\r\n    }\r\n\r\n\r\n    protected getSetupDel(data:any):Iajax\r\n    {\r\n        const props=this.props;\r\n        let url=this.props.url_delete?this.props.url_delete.toString().trim():\"\";\r\n        let url_method=\"POST\";\r\n\r\n        const se:Iajax={\r\n            url:url,\r\n            params:data,\r\n            method:url_method,\r\n        };  \r\n\r\n        const genreDefault=()=>{\r\n            const table:IBaseSetupTable=this.props.table||{} as IBaseSetupTable;\r\n            let fields:any=table.fieldid?table.fieldid:\"\";\r\n            fields=Array.isArray(fields)?fields:[fields];\r\n            const fieldNames:string[]=[];\r\n            const values:string[]=[];\r\n            const obj:any={};\r\n\r\n            for(let i=0; i<fields.length; i++)\r\n            {\r\n                const f=toStr(fields[i]);\r\n                let val=f.length>0?toStr(data[f]).toString().trim():'';\r\n                if(val.length>0)\r\n                {\r\n                    fieldNames.push(f);\r\n                    values.push(val);\r\n                    obj[f]=val;\r\n                }\r\n            }        \r\n            if(values.length>0)\r\n            {\r\n                //using delete \r\n                se.method='DELETE';\r\n                se.url+=\"/\"+values.join(\"/\");\r\n                delete se.params;\r\n            }        \r\n        \r\n            const headers=getConfigHeader();\r\n\r\n            if(headers){\r\n                se.headers=headers;\r\n            }\r\n        };\r\n\r\n\r\n        const genreQParams=()=>{\r\n            let fields=props.table && props.table.fieldid?props.table.fieldid:null;\r\n            if(typeof fields==='string')\r\n            {\r\n                fields=toStr(fields);\r\n                fields=fields.length>0?[fields]:[];\r\n            }\r\n            else         \r\n            {\r\n                fields=Array.isArray(fields)?fields:[];\r\n            }\r\n\r\n            //const u=new URLSearchParams()   \r\n            let url=rTrim(toStr(props.url_delete),'/'); \r\n            url+=url[url.length-1]!=='?'?'?':'';\r\n            se.method='delete';\r\n            se.params={};\r\n            data=data||{};\r\n\r\n            for(let i=0; i<fields.length; i++)\r\n            {\r\n                const p=fields[i];\r\n                const val=toStr(data[p]).toString().trim();\r\n                if(val.length>0)\r\n                {\r\n                    se.params[p]=val;\r\n                }\r\n            }\r\n\r\n            const su=new URLSearchParams(se.params);\r\n            delete se.params;        \r\n            se.url=url+su.toString();\r\n        };\r\n\r\n        if(this.delReqTipe===\"qparams\")\r\n        {\r\n            genreQParams();\r\n        }\r\n        else {\r\n            genreDefault();\r\n        }\r\n\r\n        return se;\r\n    }\r\n\r\n    protected doSndDelete(se:Iajax) \r\n    {        \r\n        this.setState({loading:true},()=>\r\n        {\r\n            const table:IBaseSetupTable=this.props.table||{} as IBaseSetupTable;\r\n            const fieldid=table.fieldid?table.fieldid:'';\r\n            this.ovOpen({text:'Menghapus,..'});\r\n            ajax(se)\r\n            .then(info=>{\r\n                this.ovClose();\r\n                this.setState({loading:false},()=>{\r\n                    this.onAftDelete(se.params,fieldid,info); \r\n                });\r\n            })\r\n            .catch(e=>{\r\n                this.ovClose();\r\n                handleAlertErrorBase(e); \r\n                this.setState({loading:false});\r\n            });\r\n        });\r\n    }    \r\n\r\n    onDelete(data:any)\r\n    {\r\n        let str=this.getMsgDel(data);\r\n\r\n        let after=\"Terkait data dimaksud ada kemungkinan akan ikut terhapus. <br/>&nbsp;<br/>Apakah Anda setuju?\";\r\n        if((str+\" \"+after).length>100) str+=\"<br/>\";\r\n        else str+=\" \";\r\n        str+=after;        \r\n\r\n        let str_no='<i class=\"fa fa-hand-stop-o\"> </i> Tidak';\r\n        let str_yes='<i class=\"fa fa-thumbs-o-up\"> </i> Iya setuju hapus';\r\n        AlertExclam(\"Konfirmasi Hapus\",str,str_no,function noop(){},str_yes,()=>{\r\n            const se=this.getSetupDel(data);            \r\n            this.doSndDelete(se);\r\n        });\r\n    }\r\n\r\n    onSetPage(page:number)\r\n    {\r\n        if(this.state.loading) return false;\r\n        page=toInt(page);\r\n        page=page<1?1:page;\r\n        page=page>this.res.pagecount?this.res.pagecount:page;\r\n        \r\n        if(page!==this.res.page)\r\n        {\r\n            this.req.page=page;\r\n            this.onReload();\r\n        }\r\n    }\r\n\r\n    onSetLimit=(limit:number)=>{\r\n        if(limit===undefined || limit===null || limit===this.req.limit) return;\r\n        this.req.limit=limit;\r\n        this.onReload();\r\n    }\r\n\r\n    getFndProps(){\r\n        const props:any={\r\n            useInsert:this.props.useInsert,\r\n            search:{...this.search},\r\n            onSearch:this.onSearch,\r\n            onReload:this.onReload,\r\n            onInsert:this.onInsert,\r\n            onSetLimit:this.onSetLimit,\r\n            limit:this.req.limit,\r\n            loading:this.state.loading,\r\n        };\r\n        return props;\r\n    }\r\n\r\n    getTblProps(){\r\n        const props={\r\n            useUpdate:this.props.useUpdate,\r\n            useDelete:this.props.useDelete,\r\n\r\n            onUpdate:this.onUpdate,\r\n            onDelete:this.onDelete,\r\n            onReload:this.onReload,\r\n\r\n            table:this.props.table,\r\n            records:this.records,   \r\n            \r\n            page:this.res.page,\r\n            limit:this.req.limit,\r\n            loading:this.state.loading,         \r\n        };        \r\n        return props;\r\n    }\r\n\r\n    getPagProps():any\r\n    {\r\n\r\n        const props:IBasePagProps={\r\n            page:this.res.page,\r\n            pagecount:this.res.pagecount,\r\n            rowcount:this.res.rowcount,\r\n            limit:this.res.limit,\r\n            totalrow:this.res.totalrow,\r\n            onSetPage:this.onSetPage,\r\n            dsLeft:true,\r\n            dsRight:true,\r\n        };\r\n        return props;\r\n    }\r\n\r\n    rdrFind():ReactNode|any\r\n    {\r\n        const Comp=this.props.compFind;\r\n        if(Comp){\r\n            const props=this.getFndProps();                \r\n            return <Comp {...props} />\r\n        }\r\n    }\r\n\r\n    rdrTable():ReactNode|any\r\n    {\r\n        const Comp=this.props.compTbl;\r\n        if(Comp){\r\n            const props=this.getTblProps();\r\n            return <Comp {...props} />\r\n        }\r\n    }\r\n\r\n    rdrPag():ReactNode|any\r\n    {\r\n        if(this.res.pagecount<=1) \r\n        {            \r\n            return null;\r\n        }\r\n        \r\n        const Comp=this.props.compPag;\r\n        if(Comp){\r\n            const props=this.getPagProps();\r\n            return <Comp {...props} />\r\n        }\r\n    }  \r\n\r\n    rdrChilds():ReactNode | any\r\n    {        \r\n        const childs=[this.rdrFind(),this.rdrTable(),this.rdrPag()];\r\n        return childs;\r\n    }  \r\n\r\n    render():ReactNode|any\r\n    {     \r\n        const {loading}=this.state;       \r\n        return (\r\n            <div className={\"base\"+(this.props.className?\" \"+this.props.className:\"\")+(loading?\" loading\":\"\")}>\r\n               {this.rdrChilds()}       \r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidMount()\r\n    {        \r\n        this.onReload();\r\n    }\r\n}","import React from \"react\";\r\nimport {   \r\n    IBaseFindProps\r\n    ,IBaseFindState  \r\n} from \"./types\";\r\n\r\ntype IAnyEvent=React.ChangeEvent<HTMLInputElement>|React.ChangeEvent<HTMLTextAreaElement>;\r\n\r\n\r\nexport class BaseFind<P extends IBaseFindProps, S extends IBaseFindState> extends React.Component<P,S> \r\n{    \r\n    protected textInsert:string='';\r\n    protected textReload:string='';\r\n    protected textReloadIcon:string=\"fa-search\";\r\n    protected btnInsertClass:string;\r\n    protected btnInsertIcon:any;\r\n\r\n    constructor(props:P){\r\n        super(props);      \r\n        this.state=this.gInitState(props);   \r\n        this.onCh=this.onCh.bind(this);  \r\n        this.onChUpdate=this.onChUpdate.bind(this);\r\n        this.onChLimit=this.onChLimit.bind(this);\r\n        this.callPropsSearch=this.callPropsSearch.bind(this);\r\n        this.hKeyPress=this.hKeyPress.bind(this);\r\n        this.rdrApFind=this.rdrApFind.bind(this);\r\n\r\n        this.btnInsertIcon=()=><i className=\"fa fa-plus-circle\" />\r\n        this.btnInsertClass=\"btn btn-outline-primary\";\r\n    }      \r\n  \r\n    protected gInitState(props?:P):S\r\n    {        \r\n        let state={\r\n            search:{\r\n                search:\"\",\r\n            }\r\n        };        \r\n        if(props!==undefined && props!==null && props.search){\r\n            state.search={...props.search};\r\n        }        \r\n        return state as S;\r\n    }\r\n\r\n    protected callPropsSearch(){\r\n        if(typeof this.props.onSearch===\"function\"){\r\n            this.props.onSearch(this.state.search);\r\n        }\r\n    }\r\n\r\n    protected onCh(e:IAnyEvent){\r\n        if(!e || !e.target || !e.target.name) return;                        \r\n        const search:any=this.state.search || {} as any; \r\n        const value=e.currentTarget.value;\r\n        search[e.currentTarget.name]=Array.isArray(value)?value.slice(0):value;                        \r\n        this.setState({search:{...search}});\r\n    }\r\n\r\n    protected onChUpdate(e:IAnyEvent){\r\n        if(!e || !e.target || !e.currentTarget.name) return;        \r\n        //const {search}=this.state;\r\n        const search:any=this.state.search || {} as any;\r\n        const value=e.currentTarget.value;\r\n        search[e.currentTarget.name]=Array.isArray(value)?value.slice(0):value;  ;             \r\n        this.setState({search:{...search}},this.callPropsSearch);\r\n    }\r\n\r\n    protected onChLimit(e:IAnyEvent){\r\n        let limit=e.target.value===\"\"?20:parseInt(e.target.value); \r\n        if(isNaN(limit)) limit=0;\r\n        const props:any=this.props||{} as any;\r\n        let plimit=props.limit!==undefined && props.limit!==null?parseInt(props.limit):0;\r\n        if(isNaN(plimit)) plimit=0;\r\n        if(limit!==plimit && typeof this.props.onSetLimit===\"function\")\r\n        {\r\n            this.props.onSetLimit(limit);\r\n        }\r\n    }\r\n\r\n    protected hKeyPress(e:React.KeyboardEvent<HTMLInputElement>){     \r\n        if(e && e.key===\"Enter\"){\r\n            this.callPropsSearch();\r\n        }\r\n    }\r\n\r\n    protected rdrApFind():any\r\n    {\r\n        const props=this.props;\r\n        const {loading}=props;\r\n        const childs=[\r\n            <button type=\"button\" className=\"btn\" onClick={e => { e.preventDefault();  if(this.props.loading) return; typeof this.props.onReload==='function'?this.props.onReload():null; }}><i className={\"fa \" + (this.props.loading ? \"fa-spin fa-spinner\" :this.textReloadIcon)} />{this.textReload?\" \"+this.textReload:\"\"}</button>           \r\n        ];\r\n        if(props.useInsert)\r\n        {\r\n            childs.push(\r\n                <button \r\n                    type=\"button\" \r\n                    className={loading?'btn-outline-secondary':this.btnInsertClass} \r\n                    onClick={loading?undefined:this.props.onInsert}\r\n                >\r\n                    {!loading && <span>{this.btnInsertIcon?typeof this.btnInsertIcon===\"function\"?this.btnInsertIcon():this.btnInsertIcon:null}{this.textInsert?\" \"+this.textInsert:\"\"}</span>}\r\n                    {loading && <i className='fa fa-spin fa-spinner' />}\r\n                </button>\r\n            );\r\n        }\r\n        return childs;\r\n    }\r\n\r\n    render(){\r\n        const data:any=this.state.search||{};                          \r\n        return (\r\n            <div className=\"base-find noprint\">\r\n                <div className=\"input-group\">\r\n                    <div className=\"input-group-element\">\r\n                        <input type=\"text\" name=\"search\" id=\"search\" autoComplete=\"off\" placeholder=\"Keyword\" value={data.search} onChange={this.onCh} onKeyPress={this.hKeyPress} spellCheck=\"false\" />\r\n                    </div>\r\n                    <div className=\"input-group-append\">\r\n                        {this.rdrApFind()}\r\n                    </div>\r\n                </div> \r\n            </div>      \r\n        )\r\n    }\r\n}","import React,{CSSProperties, RefObject,ChangeEvent} from \"react\";\r\nimport {modal} from \"intoy-modal\";\r\nimport { isObjectEmpty, toStr } from \"intoy-utils\";\r\nimport { ajax, Iajax, IUploadProgress } from \"intoy-xhr\";\r\nimport { getConfigHeader, getDefaultBaseModalTitleInsert, getDefaultBaseModalTitleUpdate, handleAlertErrorBase } from \"./baseConfig\";\r\nimport {IBaseModalState, IBaseModalProps, IModalPromiseParameters} from \"./types\";\r\n\r\ntype IAnyEvent=ChangeEvent<HTMLInputElement>|ChangeEvent<HTMLTextAreaElement>;\r\n\r\nclass BaseModal<P extends IBaseModalProps, S extends IBaseModalState> extends React.Component<P,S>\r\n{\r\n    protected prevData:any;\r\n    protected data:any;\r\n    protected classForm:string='modalForm';\r\n    protected styleForm:CSSProperties;\r\n    protected btnSaveText:string='Simpan';\r\n    protected btnCancelText:string='Batal';\r\n    protected useEfieldId:boolean=true;\r\n    protected titleIns:string=getDefaultBaseModalTitleInsert();\r\n    protected titleUpd:string=getDefaultBaseModalTitleUpdate();\r\n\r\n    constructor(props:P){\r\n        super(props);      \r\n        this.styleForm={};\r\n        this.hUploadProgress=this.hUploadProgress.bind(this);\r\n        this.onSubmit=this.onSubmit.bind(this);   \r\n        this.onCh=this.onCh.bind(this);\r\n        this.onClSubmit=this.onClSubmit.bind(this);\r\n        this.onSuccess=this.onSuccess.bind(this);\r\n        this.getCkBoxVal=this.getCkBoxVal.bind(this);\r\n        this.prevData={...props.data};\r\n        this.data={...props.data};   \r\n        this.nodeForm=null;    \r\n        this.state=this.gInitState();\r\n    }\r\n\r\n    protected gInitState():S \r\n    {\r\n        return {loading:false,progress:null} as S;\r\n    }\r\n\r\n    protected nodeForm:RefObject<HTMLFormElement>|any\r\n\r\n    protected getIncludeFields():string[]\r\n    {\r\n        return [];\r\n    }\r\n\r\n    protected getCkBoxVal(value:any,checked:boolean)\r\n    {\r\n        return checked && (Array.isArray(value) && value.length>0 || toStr(value).toString().trim().length)>0?value:null;\r\n        \r\n    }\r\n\r\n    getEditing(){\r\n        return !isObjectEmpty(this.prevData);\r\n    }    \r\n\r\n    getSetup()\r\n    {\r\n        const editing=this.getEditing();\r\n        const setup:Iajax=\r\n        {\r\n            url:(editing?this.props.url_update||\"\":this.props.url_insert||\"\") as string,\r\n            method:\"post\",\r\n            formElement:this.nodeForm,\r\n            uploadProgress:this.hUploadProgress\r\n        };\r\n\r\n        if(editing){\r\n            setup.params={};           \r\n            if(this.useEfieldId)    \r\n            {\r\n                setup.params[this.props.fieldid]=this.prevData[this.props.fieldid];\r\n            }\r\n            setup.params[this.props.fieldid+'_lama']=this.prevData[this.props.fieldid];\r\n        }\r\n\r\n        const fields=this.getIncludeFields()||[];\r\n        if(fields.length>0)\r\n        {\r\n            if(!setup.params)\r\n            {\r\n                setup.params={};\r\n            }\r\n            for(let i=0; i<fields.length; i++)\r\n            {\r\n                let val=this.data[fields[i]];\r\n                if(val===null || val===undefined){\r\n                    val=this.prevData[fields[i]];\r\n                }\r\n                if(val!==null && val!==undefined)\r\n                {\r\n                    setup.params[fields[i]]=val;\r\n                }\r\n            }\r\n        }\r\n\r\n        // init query selector bind checkbox inputs into param data        \r\n        // karen type checkbox tidak diinclude value oleh formElement\r\n        if(this.nodeForm)\r\n        {\r\n            const ndForm=this.nodeForm as HTMLElement;\r\n            const selectors=['input[type=checkbox]'];\r\n            selectors.forEach((selector:string)=>{\r\n                const elsa=ndForm.querySelectorAll(selector);\r\n                const getValSelParam=(name:string)=>{\r\n                    return setup.params?setup.params[name]:null;\r\n                }\r\n                const getValData=(name:string)=>{\r\n                    return this.data[name];\r\n                }\r\n                const compareSeParam=(name:string,value:any,el:HTMLInputElement)=>{\r\n                    let valData=getValSelParam(name);\r\n                    valData=valData===null || valData===undefined?getValData(name):valData;\r\n                    if(valData!==null && valData!==undefined)\r\n                    {\r\n                        if(!setup.params) setup.params={};\r\n                        setup.params[name]=valData;\r\n                    }\r\n                };\r\n\r\n                elsa.forEach((element:Element)=>{\r\n                    const el:HTMLInputElement=element as HTMLInputElement;\r\n                    if(!el.name) \r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    if(el.type===\"checkbox\")\r\n                    {\r\n                        compareSeParam(el.name,el.value,el);\r\n                    }\r\n                })\r\n            });\r\n        }\r\n\r\n        const headers=getConfigHeader();\r\n        if (headers){\r\n            setup.headers={...headers};\r\n        }\r\n        return setup;\r\n    }\r\n\r\n    protected hUploadProgress(prog:IUploadProgress)\r\n    {\r\n        this.setState({progress:prog?{...prog}:null});\r\n    }\r\n\r\n    protected onSuccess(data:any)\r\n    {\r\n         if(typeof this.props.onUpdate===\"function\") this.props.onUpdate(data);\r\n         if(typeof this.props.onClose===\"function\") this.props.onClose();\r\n    }\r\n\r\n\r\n    onSubmit(e?:React.FormEvent<HTMLFormElement>){\r\n        if(e) e.preventDefault();        \r\n\r\n        this.setState({loading:true},()=>{\r\n            const setup=this.getSetup();\r\n            ajax(setup)\r\n            .then(data=>{                \r\n               this.onSuccess(data);\r\n            })\r\n            .catch(e=>{          \r\n                this.setState({loading:false,progress:null});               \r\n                handleAlertErrorBase(e);\r\n            });\r\n        });\r\n    }\r\n\r\n    onCh(e:IAnyEvent)\r\n    {\r\n        const {type}:{type:any}=e.target;\r\n        this.data[e.target.name]=e.target.value;\r\n        \r\n        if(type===\"checkbox\")\r\n        {\r\n            let checked=(e.target as any).checked;\r\n\r\n            let value:any=e.target.value;\r\n            value=this.getCkBoxVal(value,checked);\r\n            this.data[e.target.name]=value;\r\n            if(value===null || value===undefined)\r\n            {\r\n                delete this.data[e.target.name];\r\n            }                    \r\n        }\r\n        \r\n        this.forceUpdate();\r\n    }\r\n\r\n    onClSubmit(e?:React.MouseEvent){\r\n        if(e) e.preventDefault();\r\n        this.onSubmit();\r\n    }\r\n\r\n    rdrTitle():any\r\n    {           \r\n        const {loading}=this.state;\r\n        return (\r\n            <div className=\"windowTitle\">                 \r\n                <div className=\"auto\">\r\n                    {this.getEditing()?this.titleUpd+\" \":this.titleIns+\" \"}{this.props.formTitle ? this.props.formTitle : 'Data'}\r\n                </div>\r\n                <div>\r\n                    {!loading && <a className=\"close\" onClick={this.props.onClose}>&#x2716;</a>}\r\n                </div>\r\n            </div>\r\n        );        \r\n    }\r\n\r\n    rdrActions():React.ReactNode | null | undefined\r\n    {\r\n        const {loading}=this.state;        \r\n        return (\r\n            <div className=\"windowAction\">\r\n                {loading && <button type=\"button\" className={\"btn\"}>Mengirim... <i className=\"fa fa-spin fa-spinner\"/></button>}\r\n                {!loading && <button type=\"submit\" className={\"btn btn-outline-primary\"} onClick={this.onClSubmit}><i className=\"fa fa-save\" /> {this.btnSaveText} </button>}\r\n                {!loading && <button type=\"button\" className={\"btn btn-outline-danger\"} onClick={this.props.onClose} ><i className=\"fa fa-remove\" /> {this.btnCancelText}</button>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    rdrContent(){\r\n        const data=this.data||{} as any;\r\n        return (\r\n            <div className=\"windowContent\">\r\n                Use content this,....\r\n            </div>\r\n        )\r\n    }    \r\n\r\n    render():React.ReactNode\r\n    {     \r\n        const {loading,progress}=this.state;\r\n        const st1:CSSProperties={\r\n            position:\"relative\",\r\n        };         \r\n        return (\r\n            <form ref={fn=>this.nodeForm=fn} className={`${this.classForm?this.classForm:``}`} onSubmit={this.onSubmit} style={this.styleForm}>\r\n                <div className=\"wrap\" style={st1}>\r\n                    {this.rdrTitle()}\r\n                    {this.rdrContent()}\r\n                    {this.rdrActions()}\r\n                    {loading && \r\n                    <div style={\r\n                        {\r\n                            position:\"absolute\",\r\n                            width:\"100%\",\r\n                            height:\"100%\",\r\n                            overflow:\"hidden\",\r\n                            display:\"flex\",\r\n                            alignItems:\"flex-end\",\r\n                            justifyContent:\"center\",\r\n                            left:\"0\",\r\n                            top:\"0\",\r\n                            zIndex:2\r\n                        }                        \r\n                    }>\r\n                        {progress && \r\n                            <div className='relative w-2/3 gap-1'\r\n                                style={{\r\n                                    position:'relative',\r\n                                    marginBottom:\"12.5%\",\r\n                                    width:'75%',\r\n                                    display:'grid',\r\n                                    gap:'0.5rem',\r\n                                }}\r\n                                >\r\n                                <div className=\"flex justify-between text-xs\"\r\n                                    style={{\r\n                                        display:'flex',\r\n                                        justifyContent:'space-between',\r\n                                        fontSize:'0.75rem',\r\n                                    }}\r\n                                    >\r\n                                    <div>{progress.percentage.toFixed(2)}%</div>\r\n                                    <div>100%</div>\r\n                                </div>\r\n                                <div className=\"relative h-2 border rounded overflow-hidden bg-white border-blue-500\"\r\n                                    style={{\r\n                                        position:'relative',\r\n                                        border:'solid 1px #3B82F6',\r\n                                        backgroundColor:'white',\r\n                                        overflow:'hidden',\r\n                                        borderRadius:'0.25rem'\r\n                                    }}\r\n                                    >\r\n                                    <div className=\"bg-blue-500\" style={{\r\n                                        position:\"absolute\",\r\n                                        left:0,\r\n                                        top:0,\r\n                                        height:\"100%\",\r\n                                        transition:\"all 274ms ease-in-out\",\r\n                                        backgroundColor:'#3B82F6',\r\n                                        width:`${progress.percentage}%`,\r\n                                    }}/>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport {BaseModal};\r\n\r\n\r\nexport function createModalPromise({\r\n    component,\r\n    url_insert,\r\n    url_update,\r\n    formTitle,\r\n    data,\r\n    fieldid=\"id\",\r\n    ...any\r\n}:IModalPromiseParameters){    \r\n    return new Promise((resolve)=>\r\n    {\r\n        modal({\r\n            component:component?component:BaseModal,\r\n            props:{\r\n                data:data,\r\n                formTitle:formTitle,\r\n                url_insert: url_insert,   \r\n                url_update:url_update,      \r\n                fieldid:fieldid,       \r\n                ...any,\r\n                onUpdate:function(newData:any){\r\n                    resolve(newData);\r\n                }\r\n            }\r\n        });\r\n    });\r\n};","import React from \"react\";\r\nimport {toInt,toDashVal} from \"intoy-utils\";\r\nimport {IBasePagProps,IBasePageInfoParams,IBasePageInfo} from \"./types\";\r\n\r\nconst step=(page:number,className:string,cb?:Function)=>{\r\n    return <a title={\"kehalaman \"+page} onClick={(e:React.MouseEvent)=>{e.preventDefault();cb?cb(page):null}}><span className={className}/></a>\r\n};\r\n\r\nconst activePage=(page:number,curentPage:number,cb?:Function)=>{\r\n    let ncb=curentPage!==page?cb:null;\r\n    let classActive=curentPage===page?\"active aktif\":\"\";\r\n    return <a className={\"step \"+classActive} onClick={(e)=>{e.preventDefault(); ncb?ncb(page):null;}}><span>{page}</span></a>;\r\n};\r\n\r\n\r\n\r\ninterface IInfo {\r\n    page:string | number\r\n    limit:string | number\r\n    rowcount:string | number\r\n    totalrow:string | number\r\n}\r\n\r\nconst Info=({page,limit,rowcount,totalrow}:IInfo)=>{\r\n    page=toInt(page);\r\n    rowcount=toInt(rowcount);\r\n    totalrow=toInt(totalrow);\r\n    limit=toInt(limit);\r\n    page=page<1?1:page;\r\n    let start=((page - 1) * limit)+1;\r\n    let stop=(start + limit) - 1;\r\n    stop=stop>totalrow?totalrow:stop;\r\n\r\n    //pageInfo=Math.min(rowcount,pageInfo);\r\n    return (\r\n        <div className=\"info\"><b>{start}</b>-<b>{stop}</b>{totalrow>0 && <span> / <b>{toDashVal(totalrow)}</b></span>}</div>\r\n    );\r\n}\r\n\r\nexport function generatePageInfo({page,pagecount,range}:IBasePageInfoParams):IBasePageInfo\r\n{\r\n    page=toInt(page);\r\n    pagecount=toInt(pagecount);\r\n    range=toInt(range);\r\n\r\n    const rangemin=(range%2===0)?(range/2)-1:(range-1)/2;\r\n    const rangemax=(range%2===0)?(rangemin+1):rangemin;\r\n\r\n    let pagemin=page - rangemin;\r\n    let pagemax=page + rangemax;\r\n    pagemin=pagemin<1?1:pagemin;\r\n    pagemax=(pagemax<(pagemin + range - 1))?pagemin+range - 1:pagemax;\r\n\r\n    if(pagemax>pagecount){\r\n        pagemin=(pagemin>1)?pagecount-range + 1 :1;\r\n        pagemax=pagecount;\r\n    }\r\n\r\n    pagemin=pagemin<1?1:pagemin;\r\n    return {\r\n        page:page,\r\n        pagecount:pagecount,\r\n        range:range,        \r\n        pagemin:pagemin,\r\n        pagemax:pagemax\r\n    }\r\n}\r\n\r\nexport function BasePag(props:IBasePagProps){    \r\n    const p=generatePageInfo({\r\n        page:toInt(props.page),\r\n        pagecount:toInt(props.pagecount),        \r\n        range:5,\r\n    } as IBasePageInfoParams);\r\n    const cond_first=p.pagecount>1 && p.page>1;\r\n    let elems:Array<any>=[];\r\n    if(cond_first){\r\n        elems.push(step(1,'first',props.onSetPage));\r\n    }\r\n    if(p.page>1 && p.page!==1){\r\n        elems.push(step(p.page-1,'prev',props.onSetPage));\r\n    }\r\n    //looping \r\n    for(let i=p.pagemin; i<p.pagemax; i++){\r\n        elems.push(activePage(i,p.page,props.onSetPage));\r\n    }\r\n\r\n    if(p.page<p.pagecount){\r\n        elems.push(step(p.page+1,'next',props.onSetPage));\r\n    }\r\n\r\n    if(p.pagecount>1 && p.page<p.pagecount){\r\n        elems.push(step(p.pagecount, 'last', props.onSetPage));\r\n    }\r\n    const dsLeft=props.dsLeft!==undefined && (props.dsLeft===true || props.dsLeft===false)?props.dsLeft:true;\r\n    const dsRight=props.dsRight!==undefined && (props.dsRight===true || props.dsRight===false)?props.dsRight:true;\r\n\r\n    let info=dsLeft||dsRight?Info({page:p.page,limit:toInt(props.limit),rowcount:toInt(props.rowcount),totalrow:toInt(props.totalrow)}):null;\r\n\r\n    let stPag:React.CSSProperties={\r\n        justifyContent:\"center\",\r\n    };\r\n    if((dsRight && !dsRight) || (!dsLeft && dsRight)){\r\n        stPag.justifyContent=!dsRight?\"flex-end\":\"flex-start;\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination\">\r\n            {props.dsLeft && info}\r\n            <div className=\"paging\" style={stPag}>{elems}</div>\r\n            {props.dsRight && info}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport { toStr, toUcWords } from \"intoy-utils\";\r\nimport {\r\n    IBaseTableProps,\r\n    IBaseSetupTable,  \r\n    IBaseField,  \r\n} from \"./types\"\r\n\r\nexport function generateFromSetupTable(table:IBaseSetupTable){\r\n    const n:any={...table};\r\n    n.table_head=[];\r\n    n.table_row=[];\r\n\r\n    if(n.fields && Array.isArray(n.fields) && n.fields.length>0){\r\n        for(let i=0; i<n.fields.length; i++){\r\n            const o=n.fields[i]||{};\r\n            let field=\"\";\r\n            if(o.alias){\r\n                field=o.alias;\r\n            }\r\n            else {\r\n                field=toUcWords(o.f);\r\n            }\r\n            field=toStr(field);\r\n            if(field.length>0){\r\n                n.table_head.push(field);\r\n                n.table_row.push({...o,f:o.f,cb:o.cb});\r\n            }\r\n        }\r\n    }\r\n    return n;\r\n}\r\n\r\nexport class BaseTable extends React.Component<IBaseTableProps>{\r\n    constructor(props:IBaseTableProps){\r\n        super(props);\r\n        this.table=generateFromSetupTable(props.table||{} as any);\r\n    }\r\n\r\n    table:any;\r\n\r\n    render(){    \r\n        const table_head=this.table.table_head||[];\r\n        const table_row=this.table.table_row||[];\r\n        const list=this.props.records||[];\r\n        let startNum=0;\r\n        const use=this.props.useUpdate||this.props.useDelete;\r\n        return (\r\n            <div className=\"base-data-table\">\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th className=\"deep\">No</th>\r\n                            {table_head.map((f:any,fidx:number)=>{\r\n                                return (\r\n                                    <th key={fidx}>{f}</th>\r\n                                )\r\n                            })}\r\n                            {use && <th className=\"deep noprint\"><i className=\"fa fa-gear\"/></th>}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>    \r\n                        {list.map((r:any,idx:number)=>{\r\n                            startNum++;\r\n                            return (\r\n                                <tr key={idx}>\r\n                                    <td className=\"deep\" align=\"center\">{startNum}</td>\r\n                                    {table_row.map((f:IBaseField, fidx:number) => {                                    \r\n                                        let val=r[f.f];\r\n                                        //console.log(\"f \",f);\r\n                                        if(typeof f.cb===\"function\"){                                        \r\n                                            try{\r\n                                                val=f.cb(r[f.f],r);\r\n                                            }\r\n                                            catch(e){\r\n                                                //console.log(e.message);\r\n                                            }\r\n                                        }\r\n                                        const tdProps:any={};\r\n                                        if(f.align){\r\n                                            tdProps.align=f.align;\r\n                                        }\r\n                                        if(f.style){\r\n                                            tdProps.style=f.style;\r\n                                        }\r\n                                        if(f.className)\r\n                                        {\r\n                                            tdProps.className=f.className;\r\n                                        }\r\n\r\n                                        return (\r\n                                            <td key={fidx} {...tdProps} >{val}</td>\r\n                                        );\r\n                                    })}\r\n                                    {use && \r\n                                    <td className=\"deep noprint\">\r\n                                        <div className=\"base-actions\">\r\n                                            <a onClick={e=>{e.preventDefault(); this.props.onUpdate?this.props.onUpdate(r):null;}} className=\"btn btn-outline-secondary btn-sm\"><i className=\"fa fa-pencil\" /></a>\r\n                                            <a onClick={e=>{e.preventDefault(); this.props.onDelete?this.props.onDelete(r):null;}} className=\"btn btn-outline-danger btn-sm\"><i className=\"fa fa-trash-o\" /></a>\r\n                                        </div>\r\n                                    </td>\r\n                                    }\r\n                                </tr>\r\n                            )\r\n                        })}                \r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {Chosen} from \"intoy-chosen\";\r\nimport {isEqual, toStr} from \"intoy-utils\";\r\nimport {ajax, Iajax, ajaxCache } from \"intoy-xhr\";\r\nimport { getConfigHeader } from \"./baseConfig\";\r\nimport {IChosenListProps,IChosenListState} from \"./types\";\r\n\r\n/**\r\n * @deprecated Sebagai pengganti gunakan component <SelectList {...props} />\r\n */\r\nexport class ChosenList<P extends IChosenListProps, S extends IChosenListState> extends React.Component<P,S>\r\n{\r\n    protected options:Array<any>;\r\n    protected chosenOptions:Array<any> | any;\r\n\r\n    constructor(props:P){\r\n        super(props);            \r\n\r\n        this.options=[];\r\n        this.chosenOptions=[];\r\n        this.onReload=this.onReload.bind(this); \r\n        this.doLoad=this.doLoad.bind(this);\r\n        this.state=this.getInitialState();\r\n    }\r\n    \r\n    getInitialState():S \r\n    {\r\n        return {loading:false} as S\r\n    }\r\n\r\n    applyAftRes=()=>{\r\n        this.chosenOptions=[];           \r\n        if(this.options.length>0 && this.props.sortField)\r\n        {            \r\n            this.options.sort((a:any,b:any)=>{\r\n                const val_a=a[this.props.sortField];\r\n                const val_b=b[this.props.sortField];\r\n                return val_a>val_b?1:(val_a<val_b?-1:0);\r\n            });           \r\n        }\r\n\r\n        if(this.options.length>0 && typeof this.props.onFieldName===\"function\"){            \r\n            let fieldname=toStr(this.props.fieldname).toString().trim();\r\n            let fieldid=toStr(this.props.fieldid).toString().trim();        \r\n            fieldid=fieldid.length<1?fieldname:fieldid;\r\n            const dataKeys=[];\r\n            for(let i=0; i<this.options.length; i++){\r\n                const o=this.options[i];                \r\n                if(typeof o!==\"object\") continue;\r\n                // copy to origin\r\n                for(let p in o)\r\n                {\r\n                    o[p+'_origin_']=o[p];\r\n                }\r\n                let valueId=toStr(o[fieldid]).toString().trim();               \r\n                if (dataKeys.indexOf(valueId)>=0) continue;\r\n\r\n                let label=toStr(o[fieldname]);\r\n                label = label.length < 1 ? valueId : label;\r\n                try{\r\n                    const test:any=this.props.onFieldName(o);\r\n                    if(typeof test===\"string\" && toStr(test).length>0){\r\n                        label=toStr(test).toString().trim();\r\n                    }                    \r\n                }\r\n                catch(e){\r\n                    \r\n                }\r\n                dataKeys.push(valueId);\r\n                const ops={...o};\r\n                // mixing name and value id\r\n                ops[this.props.name]=valueId;\r\n                ops[fieldid]=valueId;\r\n                ops[fieldname]=label;                  \r\n                this.chosenOptions.push(ops);\r\n            }\r\n        }\r\n        else {\r\n            this.chosenOptions=this.options;\r\n        }\r\n    }\r\n    \r\n    doLoad(){\r\n        let url=toStr(this.props.url).toString().trim();        \r\n\r\n        if(url.length<1) return;\r\n\r\n        const se:Iajax={\r\n            url:url,\r\n            method:this.props.method?this.props.method:\"GET\",\r\n            params:{...this.props.params}\r\n        };\r\n        const headers=getConfigHeader();\r\n        if(Headers){\r\n            se.headers={...headers};\r\n        }\r\n\r\n        if(this.props.useCache)\r\n        {         \r\n            ajaxCache(se,this.props.cacheExpire)\r\n            .then((n:any)=>{\r\n                this.options=Array.isArray(n) && n.length>0?n.slice(0)\r\n                            :typeof n==='object' && n.records && Array.isArray(n.records)?n.records.slice(0)\r\n                            :[];\r\n                this.applyAftRes();\r\n                this.setState({loading:false});\r\n            })\r\n            .catch(()=>{\r\n                this.setState({loading:false});\r\n            });\r\n            return;\r\n        }\r\n        \r\n        ajax(se)\r\n        .then((n:any)=>{    \r\n            this.options=Array.isArray(n) && n.length>0?n.slice(0)\r\n                            :typeof n==='object' && n.records && Array.isArray(n.records)?n.records.slice(0)\r\n                            :[];\r\n            this.applyAftRes();\r\n            this.setState({loading:false});\r\n        })\r\n        .catch(()=>{\r\n            this.setState({loading:false});\r\n        });\r\n    }\r\n\r\n    onReload(){\r\n        let url=toStr(this.props.url).toString().trim(); \r\n        if(url.length<1) return;\r\n        this.setState({loading:true},this.doLoad);\r\n    }\r\n\r\n    componentDidMount(){        \r\n        this.onReload();\r\n    }\r\n\r\n    componentDidUpdate(prev:P){\r\n        const satu=!isEqual(this.props.params,prev.params);\r\n        const harus=satu;        \r\n        if(harus)\r\n        {           \r\n            this.onReload();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const props=this.props;\r\n        const forward:any={            \r\n            name:props.name,    \r\n            loading:this.state.loading,   \r\n            onChange:this.props.onChange,    \r\n            value:this.props.value, \r\n            fieldid:this.props.fieldid,\r\n            fieldname:this.props.fieldname,\r\n            placeholder:this.props.placeholder,                     \r\n        };       \r\n\r\n        const p=this.props as any;\r\n        \r\n        if(p.multiple===true){\r\n            forward.multiple=true; \r\n        }        \r\n        \r\n        return (\r\n            <Chosen {...forward as any} options={this.chosenOptions} />\r\n        )\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport interface IBaseItemProps {\r\n    index:number\r\n    num:number\r\n\r\n    data:any\r\n\r\n    useUpdate:boolean\r\n    useDelete:boolean\r\n\r\n    onUpdate?:(data:any)=>void\r\n    onDelete?:(data:any)=>void\r\n    onReload?:()=>void\r\n\r\n    onReloadItem?:()=>void\r\n\r\n    didUpRecord?:(index:number,prev:any,current:any)=>void\r\n}\r\n\r\nexport interface IBaseItemState {\r\n    open:boolean\r\n}\r\n\r\nclass Item<P extends IBaseItemProps,S extends IBaseItemState> extends React.Component<P,S>\r\n{\r\n    constructor(props:P)\r\n    {\r\n        super(props);\r\n        this.gInitState=this.gInitState.bind(this);\r\n        this.state=this.gInitState(props);\r\n\r\n        this.onTgOpen=this.onTgOpen.bind(this);\r\n        this.onReloadSelf=this.onReloadSelf.bind(this);\r\n        this.rdrChild=this.rdrChild.bind(this);\r\n    }\r\n\r\n    protected gInitState(props?:P):S\r\n    {\r\n        props=props?props:this.props;\r\n        return {\r\n            open:false,\r\n        } as S;\r\n    }\r\n\r\n    onTgOpen(e?:React.MouseEvent){\r\n        if(e) e.preventDefault();\r\n        this.setState({open:!this.state.open});\r\n    }\r\n\r\n    onReloadSelf()\r\n    {\r\n\r\n    }\r\n\r\n    rdrChild():any\r\n    {\r\n\r\n    }\r\n}\r\n\r\n\r\nexport {Item}","import React from \"react\";\r\nimport { ajax, Iajax } from \"intoy-xhr\";\r\nimport { getConfigHeader } from \"./baseConfig\";\r\n\r\nexport interface IBaseLoaderProps {\r\n    url?:string\r\n    params?:any\r\n    method?:string\r\n}\r\n\r\nexport interface IBaseLoaderState {\r\n    loading:boolean\r\n    error:any\r\n}\r\n\r\nclass BaseLoader<P extends IBaseLoaderProps, S extends IBaseLoaderState> extends React.Component<P,S>\r\n{\r\n    protected res:any\r\n    constructor(props:P)\r\n    {\r\n        super(props);\r\n        this.res=null;\r\n        this.doLoad=this.doLoad.bind(this);\r\n        this.onReload=this.onReload.bind(this);\r\n    }\r\n\r\n    protected getStp():Iajax\r\n    {\r\n        const se:Iajax={\r\n            url:(this.props.url??'') as string,\r\n            params:this.props.params,\r\n            method:(this.props.method??'GET'),\r\n            headers:getConfigHeader(),\r\n        }    \r\n        return se;\r\n    }\r\n\r\n    protected doLoad()\r\n    {\r\n        const se:Iajax=this.getStp();\r\n        ajax(se)\r\n        .then((n:any)=>{\r\n            this.res={...n};\r\n            this.setState({loading:false,error:null});\r\n        })\r\n        .catch(e=>{\r\n            this.res=null;\r\n            this.setState({loading:false,error:e});\r\n        });\r\n    }\r\n\r\n    protected onReload(e?:React.MouseEvent)\r\n    {\r\n        if(e) e.preventDefault();\r\n        this.setState({loading:false,error:null},this.doLoad);\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        if(this.props.url && this.props.url.length>0) this.onReload();\r\n    }\r\n}\r\n\r\nexport {BaseLoader}","import React from \"react\";\r\nimport {isEqual, toStr} from \"intoy-utils\";\r\nimport {ajax, Iajax, ajaxCache } from \"intoy-xhr\";\r\nimport { getConfigHeader } from \"./baseConfig\";\r\nimport { Select } from \"intoy-select\";\r\n\r\nexport type ISelectListProps = {\r\n    url:string\r\n    params?:any\r\n    method?:string\r\n    name:string\r\n    value:string | number | null | undefined\r\n    fieldid:string\r\n    fieldname:string\r\n    placeholder?:string\r\n    multiple?:boolean\r\n    sortField?:string\r\n    useCache?:boolean\r\n    cacheExpire?:number\r\n    onFieldName?:(data:any)=>void    \r\n    onChange:(e:any)=>void\r\n}\r\n\r\nexport type ISelectListState = {\r\n    loading:boolean\r\n}\r\n\r\nexport class SelectList<P extends ISelectListProps, S extends ISelectListState> extends React.Component<P,S>\r\n{\r\n    protected options:Array<any>;\r\n    protected chosenOptions:Array<any> | any;\r\n\r\n    constructor(props:P){\r\n        super(props);            \r\n\r\n        this.options=[];\r\n        this.chosenOptions=[];\r\n        this.onReload=this.onReload.bind(this); \r\n        this.doLoad=this.doLoad.bind(this);\r\n        this.state=this.getInitialState();\r\n    }\r\n    \r\n    getInitialState():S \r\n    {\r\n        return {loading:false} as S\r\n    }\r\n\r\n    applyAftRes=()=>{\r\n        this.chosenOptions=[];           \r\n        if(this.options.length>0 && this.props.sortField)\r\n        {            \r\n            this.options.sort((a:any,b:any)=>{\r\n                const val_a=a[this.props.sortField];\r\n                const val_b=b[this.props.sortField];\r\n                return val_a>val_b?1:(val_a<val_b?-1:0);\r\n            });           \r\n        }\r\n\r\n        if(this.options.length>0 && typeof this.props.onFieldName===\"function\"){            \r\n            let fieldname=toStr(this.props.fieldname).toString().trim();\r\n            let fieldid=toStr(this.props.fieldid).toString().trim();        \r\n            fieldid=fieldid.length<1?fieldname:fieldid;\r\n            const dataKeys=[];\r\n            for(let i=0; i<this.options.length; i++){\r\n                const o=this.options[i];                \r\n                if(typeof o!==\"object\") continue;\r\n                // copy to origin\r\n                for(let p in o)\r\n                {\r\n                    o[p+'_origin_']=o[p];\r\n                }\r\n                let valueId=toStr(o[fieldid]).toString().trim();               \r\n                if (dataKeys.indexOf(valueId)>=0) continue;\r\n\r\n                let label=toStr(o[fieldname]);\r\n                label = label.length < 1 ? valueId : label;\r\n                try{\r\n                    const test:any=this.props.onFieldName(o);\r\n                    if(typeof test===\"string\" && toStr(test).length>0){\r\n                        label=toStr(test).toString().trim();\r\n                    }                    \r\n                }\r\n                catch(e){\r\n                    \r\n                }\r\n                dataKeys.push(valueId);\r\n                const ops={...o};\r\n                // mixing name and value id\r\n                ops[this.props.name]=valueId;\r\n                ops[fieldid]=valueId;\r\n                ops[fieldname]=label;                  \r\n                this.chosenOptions.push(ops);\r\n            }\r\n        }\r\n        else {\r\n            this.chosenOptions=this.options;\r\n        }\r\n    }\r\n    \r\n    doLoad()\r\n    {\r\n        let url=toStr(this.props.url).toString().trim();        \r\n\r\n        if(url.length<1) return;\r\n\r\n        const se:Iajax={\r\n            url:url,\r\n            method:this.props.method?this.props.method:\"GET\",\r\n            params:{...this.props.params}\r\n        };\r\n        const headers=getConfigHeader();\r\n        if(Headers){\r\n            se.headers={...headers};\r\n        }\r\n\r\n        if(this.props.useCache)\r\n        {         \r\n            ajaxCache(se,this.props.cacheExpire)\r\n            .then((n:any)=>{\r\n                this.options=Array.isArray(n) && n.length>0?n.slice(0)\r\n                            :typeof n==='object' && n.records && Array.isArray(n.records)?n.records.slice(0)\r\n                            :[];\r\n                this.applyAftRes();\r\n                this.setState({loading:false});\r\n            })\r\n            .catch(()=>{\r\n                this.setState({loading:false});\r\n            });\r\n            return;\r\n        }\r\n        \r\n        ajax(se)\r\n        .then((n:any)=>{    \r\n            this.options=Array.isArray(n) && n.length>0?n.slice(0)\r\n                            :typeof n==='object' && n.records && Array.isArray(n.records)?n.records.slice(0)\r\n                            :[];\r\n            this.applyAftRes();\r\n            this.setState({loading:false});\r\n        })\r\n        .catch(()=>{\r\n            this.setState({loading:false});\r\n        });\r\n    }\r\n\r\n    onReload(){\r\n        let url=toStr(this.props.url).toString().trim(); \r\n        if(url.length<1) return;\r\n        this.setState({loading:true},this.doLoad);\r\n    }\r\n\r\n    componentDidMount(){        \r\n        this.onReload();\r\n    }\r\n\r\n    componentDidUpdate(props:P){\r\n        const satu=!isEqual(this.props.params,props.params);\r\n        let harus=satu;        \r\n        if(harus)\r\n        {           \r\n            this.onReload();\r\n            return;\r\n        }\r\n\r\n        if(!Array.isArray(props.value) && !Array.isArray(this.props.value))\r\n        {\r\n            const value_a=toStr(props.value).toString().trim();\r\n            const value_b=toStr(this.props.value).toString().trim();\r\n            harus=value_a!==value_b;            \r\n            if(harus)\r\n            {\r\n                this.forceUpdate();\r\n            }\r\n        }\r\n    }\r\n\r\n    render()\r\n    {\r\n        const props=this.props;\r\n        const forward:any={            \r\n            name:props.name,    \r\n            loading:this.state.loading,   \r\n            onChange:this.props.onChange,    \r\n            value:this.props.value, \r\n            fieldid:this.props.fieldid,\r\n            fieldname:this.props.fieldname,\r\n            placeholder:this.props.placeholder,                     \r\n        };       \r\n\r\n        const p=this.props as any;\r\n        \r\n        if(p.multiple===true){\r\n            forward.multiple=true; \r\n        }\r\n        \r\n        return (\r\n            <Select {...forward as any} options={this.chosenOptions} />\r\n        )\r\n    }\r\n}","import { AlertError, AlertWarn } from \"intoy-modal\";\r\nimport { IajaxException } from \"intoy-xhr\";\r\nimport { IBaseDeleteRequestType } from \"./types\";\r\n\r\nlet header:any;\r\nlet defaultDeleteRequestType:IBaseDeleteRequestType=\"qparams\";\r\nlet defaultBaseModalTitleInsert:string=\"New\";\r\nlet defaultBaseModalTitleUpdate:string=\"Edit\";\r\n\r\ntype IbaseResAttr = {\r\n    records:string // data array b:response\r\n    page:string // halaman b:response\r\n    pagecount:string // jumlah halaman b:response\r\n    limit:string // limit request\r\n    rowcount:string // jumlah record saat ini\r\n    totalrow:string // jumlah record keseluruhan\r\n}\r\n\r\nlet baseResAttr:IbaseResAttr = {\r\n    records:\"records\",\r\n    page:\"page\",\r\n    pagecount:\"pagecount\",\r\n    limit:\"limit\",\r\n    rowcount:\"rowcount\",\r\n    totalrow:\"totalrow\"\r\n}\r\n\r\nexport function baseResAttrGet():IbaseResAttr\r\n{\r\n    return baseResAttr;\r\n}\r\n\r\nexport function baseResAttrSet(props:IbaseResAttr)\r\n{\r\n    let fields:string[]=[\"records\",\"page\",\"pagecount\",\"limit\",\"rowcount\",\"totalrow\"];\r\n    for(let i=0; i<fields.length; i++)\r\n    {\r\n        if(fields[i] in props)\r\n        {\r\n            (baseResAttr as any)[fields[i]]=(props as any)[fields[i]];\r\n        }\r\n    }\r\n}\r\n\r\nexport function getDefaultDeleteRequestType():IBaseDeleteRequestType\r\n{\r\n    return defaultDeleteRequestType;\r\n}\r\n\r\nexport function setDefaultDeleteRequestType(value:IBaseDeleteRequestType)\r\n{\r\n    defaultDeleteRequestType=value;\r\n}\r\n\r\nexport function getDefaultBaseModalTitleInsert():string\r\n{\r\n    return defaultBaseModalTitleInsert;\r\n}\r\n\r\nexport function setDefaultBaseModalTitleInsert(value:string)\r\n{\r\n    defaultBaseModalTitleInsert=value;\r\n}\r\n\r\nexport function getDefaultBaseModalTitleUpdate():string\r\n{\r\n    return defaultBaseModalTitleUpdate;\r\n}\r\n\r\nexport function setDefaultBaseModalTitleUpdate(value:string)\r\n{\r\n    defaultBaseModalTitleUpdate=value;\r\n}\r\n\r\nexport function setConfigHeader(newHeader:any)\r\n{     \r\n    header=newHeader?newHeader:null;\r\n}\r\n\r\nexport function getConfigHeader(){    \r\n    let result;    \r\n    if(header){\r\n        if(typeof header===\"string\"){\r\n            result={\r\n                'Authorization': 'Bearer ' + header\r\n            }\r\n        }\r\n    }    \r\n    return result; \r\n}\r\n\r\ntype IappendHBase = {\r\n    msg_before?:string\r\n    msg_after?:string\r\n}\r\n\r\nexport function handleAlertErrorBase(e:IajaxException,ops?:IappendHBase)\r\n{\r\n    let code=e.code;\r\n    //409 error parse atau HTTP conflict\r\n    if(e.xhr && e.xhr.status!==e.code && e.code!==409)\r\n    {\r\n        code=e.xhr.status;\r\n    }\r\n\r\n    const codeWarnings=[400,409,422]; // \r\n    // 400 Bad Request\r\n    // 409 Conflict parse atau HTTP Conflict\r\n    // 422 Unprcesable Entity\r\n    const inWarning=codeWarnings.indexOf(code)>=0;\r\n    let title=e.title;\r\n    let message=e.message;\r\n    if(inWarning || code===403){\r\n        title=code+' Bad Request';\r\n        if(code===409){\r\n            title='Conflict';\r\n        }\r\n        if(code===422){\r\n            title=code+' Unprocessable';            \r\n        }\r\n        if(code===403)\r\n        {\r\n            title=\"Access Denied \"+code;\r\n        }\r\n    }\r\n    if(ops!==undefined && ops!==null)    \r\n    {\r\n        if(ops.msg_before!==undefined && (ops.msg_before||'').toString().trim().length>0)\r\n        {\r\n            message=ops.msg_before.toString().trim()+'. '+message;\r\n        }\r\n\r\n        if(ops.msg_after!==undefined && (ops.msg_after||'').toString().trim().length>0)\r\n        {\r\n            message+='. '+ops.msg_after;\r\n        }\r\n    }\r\n    const func=inWarning?AlertWarn:AlertError;\r\n    func(title,message,'OK');\r\n}","export * from \"./Base\";\r\nexport * from \"./BaseFind\";\r\nexport * from \"./BasePag\";\r\nexport * from \"./BaseTable\";\r\nexport * from \"./BaseModal\";\r\nexport * from \"./ChosenList\";\r\nexport * from \"./Item\";\r\nexport * from \"./Loader\";\r\nexport * from \"./baseConfig\";\r\nexport * from \"./types\";\r\nexport * from \"./SelectList\";","import {CSSProperties} from \"react\";\r\n\r\nexport type IBaseField = {\r\n    f:string,\r\n    alias:string,\r\n    cb?:Function\r\n    align?:\"left\" | \"center\" | \"right\" | \"justify\" | \"char\"\r\n    className?:string\r\n    style?:CSSProperties\r\n}\r\n\r\n// delete request default : dengan sibling path contoh : data/{id_param}\r\n// delete request qparams : dengan sibling dengan query params. contoh : data?id_param=value_id_param\r\nexport type IBaseDeleteRequestType=\"default\"|\"qparams\";\r\n\r\nexport type IBaseRequest = {\r\n    search:any\r\n    page:number\r\n    limit:number\r\n}\r\n\r\nexport type IBaseResponse = {\r\n    limit:number\r\n    page:number\r\n    pagecount:number\r\n    rowcount:number\r\n    totalrow:number\r\n    records:any[]\r\n}\r\n\r\nexport type IBaseSetupTable = {\r\n    dataName?:string\r\n    fieldid:string | string[]\r\n    fields?:IBaseField[]\r\n    sortField?:string\r\n    sortFieldType?:\"string\"|\"integer\"|\"double\"\r\n}\r\n\r\nexport type IBaseSearch = {    \r\n    search:string\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBaseState = {\r\n    loadedCount:number,\r\n    loading:boolean,\r\n    error:any,\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBaseFindProps = {\r\n    search?:IBaseSearch\r\n    loading?:Boolean\r\n    limit?:number\r\n    useInsert?:boolean\r\n    onSetLimit?:(limi:number)=>void\r\n    onReload?:()=>void\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBaseFindState = {\r\n    search:IBaseSearch\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBaseTableItemProps = {\r\n    num?:number\r\n    loading?:boolean    \r\n    useUpdate?:boolean\r\n    useDelete?:boolean\r\n    data?:any\r\n\r\n    onUpdate?:(data:any)=>void\r\n    onDelete?:(data:any)=>void\r\n}\r\n\r\n\r\nexport type IBaseTableProps = {\r\n    loading?:boolean\r\n    \r\n    records:any[]\r\n    page:number\r\n    limit:number\r\n\r\n    table?:IBaseSetupTable\r\n\r\n    useUpdate?:boolean\r\n    useDelete?:boolean\r\n\r\n    onUpdate?:(data:any)=>void\r\n    onDelete?:(data:any)=>void\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBasePagOptions = {\r\n    page:string | number\r\n    pagecount:string | number\r\n    limit:string | number\r\n    rowcount:string | number\r\n    totalrow:string | number\r\n    [p:string]:any\r\n}\r\n\r\nexport type IBasePagProps = IBasePagOptions & {\r\n    dsLeft?:boolean\r\n    dsRight?:boolean\r\n    onSetPage:(page:number)=>void\r\n}\r\n\r\nexport type IBasePageInfoParams = {\r\n    page:number\r\n    pagecount:number\r\n    range:number\r\n}\r\n\r\nexport type IBasePageInfo = {\r\n    page:number\r\n    pagecount:number\r\n    range:number\r\n    pagemin:number\r\n    pagemax:number\r\n}\r\n\r\nexport type IBaseModalProps = {\r\n    fieldid:string\r\n\r\n    data?:any\r\n    url_insert?:string\r\n    url_update?:string\r\n    formTitle?:string\r\n\r\n    onClose?:()=>void\r\n    onUpdate?:(newData:any)=>void\r\n    [p:string]:any\r\n}\r\n\r\ntype IUploadProgress = {\r\n    loaded:number\r\n    total:number\r\n    percentage:number\r\n}\r\n\r\nexport type IBaseModalState = {\r\n    loading:boolean\r\n    progress:IUploadProgress|null\r\n}\r\n\r\nexport type IBaseFormProps = {\r\n    fieldid:string\r\n    data?:any\r\n    url_insert?:string    \r\n    url_update?:string\r\n    formTitle?:string\r\n\r\n    onClose?:()=>void\r\n    onUpdate?:(n:any)=>void\r\n}\r\n\r\nexport type IBaseFormState = {\r\n    loading:boolean\r\n}\r\n\r\nexport type IModalPromiseParameters = IBaseModalProps & {\r\n    component?:any    \r\n}\r\n\r\nexport type IBaseOptionSearchArrayObject = {\r\n    arrayObj:any[]\r\n    field:string,\r\n    value:string | number,\r\n    sensitive?:boolean\r\n}\r\n\r\nexport type IBaseProps = {\r\n    className?:string\r\n    \r\n    url_data?:string\r\n    url_delete?:string\r\n    url_delete_UsingPath?:boolean //delete/:field_primary\r\n    url_delete_MethodPath?:string //DELETE\r\n\r\n    table:IBaseSetupTable\r\n\r\n    useInsert:boolean\r\n    useUpdate:boolean\r\n    useDelete:boolean    \r\n\r\n    limit?:number\r\n    \r\n    compFind?:any\r\n    compTbl?:any\r\n    compPag?:any\r\n    compForm?:any\r\n\r\n    [p:string]:any\r\n}\r\n\r\nexport type IChosenListProps = {\r\n    url:string\r\n    params?:any\r\n    method?:string\r\n    name:string\r\n    value:string | number | null | undefined\r\n    fieldid:string\r\n    fieldname:string\r\n    placeholder?:string\r\n    multiple?:boolean\r\n    sortField?:string\r\n    useCache?:boolean\r\n    cacheExpire?:number\r\n    onFieldName?:(data:any)=>void    \r\n    onChange:(e:any)=>void\r\n}\r\n\r\nexport type IChosenListState = {\r\n    loading:boolean\r\n}\r\n\r\n\r\nexport function handleResponseSelf(this:any,response:any)\r\n{\r\n    const hasSelfRes=this.res!==undefined && this.res!==null && typeof this.res===\"object\";\r\n    if(!hasSelfRes) return;\r\n    const res=response;\r\n    if(res && res.records && Array.isArray(res.records))\r\n    {\r\n        //copy response\r\n        this.res={...res};\r\n        this.res.records=res.records.slice(0);\r\n        this.res.page=this.res.page!==undefined && this.res.page!==null?this.res.page:1;\r\n        this.res.pagecount=this.res.pagecount!==undefined && this.res.pagecount!==null?this.res.pagecount:1;\r\n        this.res.totalrow=this.res.totalrow===undefined || this.res.totalrow===null?this.res.records.length:this.res.totalrow;\r\n        this.res.rowcount=this.res.rowcount===undefined || this.res.rowcount===null?this.res.records.length:this.res.rowcount;\r\n        //normalize response\r\n        this.res.limit=res.limit!==undefined && res.limit!==null?res.limit:this.req.limit;\r\n        this.res.page=this.res.page<1?1:this.res.page;\r\n        this.res.pagecount=this.res.pagecount<1?1:this.res.pagecount;\r\n        this.res.totalrow=this.res.totalrow<0?0:this.res.totalrow;\r\n        this.res.rowcount=this.res.rowcount<0?0:this.res.rowcount;\r\n        this.res.rowcount=this.res.rowcount>this.res.totalrow?this.res.totalrow:this.res.rowcount;\r\n        this.records=this.res.records.slice(0);\r\n        // delete res response records\r\n        this.res.records=[];\r\n    }\r\n    else \r\n    if(Array.isArray(res))\r\n    {\r\n        //attach res as records\r\n        this.records=res.slice(0);\r\n        this.res.page=1;\r\n        this.res.pagecount=1;\r\n        this.res.totalrow=this.records.length;\r\n        this.res.rowcount=this.res.totalrow;\r\n    }\r\n    else {\r\n        //reset data\r\n        this.records=[];\r\n        this.res.page=1;\r\n        this.res.pagecount=1;\r\n        this.res.totalrow=0;\r\n        this.res.rowcount=0;\r\n    }       \r\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__926__;","module.exports = __WEBPACK_EXTERNAL_MODULE__875__;","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","module.exports = __WEBPACK_EXTERNAL_MODULE__269__;","module.exports = __WEBPACK_EXTERNAL_MODULE__986__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(976);\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__926__","__WEBPACK_EXTERNAL_MODULE__875__","__WEBPACK_EXTERNAL_MODULE__22__","__WEBPACK_EXTERNAL_MODULE__269__","__WEBPACK_EXTERNAL_MODULE__986__","__WEBPACK_EXTERNAL_MODULE__156__","Base","props","updOnDidUpRecord","clrDataOnFailed","delReqTipe","getDefaultDeleteRequestType","onSetLimit","limit","req","onReload","lodOv","onSearch","bind","doReload","onInsert","onUpdate","onDelete","onAftInsert","onAftUpdate","onAftDelete","doSndDelete","onSetPage","didUpRecord","onItemBeforeUpdate","onItemUpdated","didUpList","handResp","handSort","handRespAft","rdrChilds","rdrFind","rdrTable","rdrPag","search","toString","asgFieldShow","records","page","res","pagecount","rowcount","totalrow","state","gInitState","loadedCount","loading","error","ops","this","text","setText","LoadingOverlay","clickClose","open","destroy","po","index","p","toStr","field","trim","Array","isArray","arrayObj","length","val","value","sensitive","toUpperCase","i","o","b","prevData","current","forceUpdate","item","attr","baseResAttrGet","slice","undefined","toInt","table","sortField","f","st","sortFieldType","sort","a","valA","valB","indexOf","parseFloat","success","setState","params","setup","url","url_data","headers","getConfigHeader","getSetup","ajax","then","data","handFilter","e","console","warn","newSearch","isEqual","newData","callable","compForm","fieldid","reloanOnDelete","reloadOnDeleted","getIndexArrayObj","splice","str","par","dataName","fields","substring","fName","alias","lval","push","toUcWords","join","se","url_delete","method","rTrim","su","URLSearchParams","genreQParams","fieldNames","values","obj","genreDefault","ovOpen","info","ovClose","handleAlertErrorBase","getMsgDel","after","AlertExclam","getSetupDel","useInsert","useUpdate","useDelete","dsLeft","dsRight","Comp","compFind","getFndProps","compTbl","getTblProps","compPag","getPagProps","className","Component","BaseFind","textInsert","textReload","textReloadIcon","onCh","onChUpdate","onChLimit","callPropsSearch","hKeyPress","rdrApFind","btnInsertIcon","btnInsertClass","target","name","currentTarget","parseInt","isNaN","plimit","key","childs","type","onClick","preventDefault","id","autoComplete","placeholder","onChange","onKeyPress","spellCheck","BaseModal","classForm","btnSaveText","btnCancelText","useEfieldId","titleIns","getDefaultBaseModalTitleInsert","titleUpd","getDefaultBaseModalTitleUpdate","styleForm","hUploadProgress","onSubmit","onClSubmit","onSuccess","getCkBoxVal","nodeForm","progress","checked","isObjectEmpty","editing","getEditing","url_update","url_insert","formElement","uploadProgress","getIncludeFields","ndForm","forEach","selector","elsa","querySelectorAll","compareSeParam","el","valData","getValSelParam","getValData","element","prog","onClose","formTitle","ref","fn","style","position","rdrTitle","rdrContent","rdrActions","width","height","overflow","display","alignItems","justifyContent","left","top","zIndex","marginBottom","gap","fontSize","percentage","toFixed","border","backgroundColor","borderRadius","transition","component","any","Promise","resolve","modal","step","cb","title","activePage","curentPage","ncb","classActive","generatePageInfo","range","rangemin","pagemin","pagemax","elems","start","stop","toDashVal","Info","stPag","generateFromSetupTable","n","table_head","table_row","BaseTable","list","startNum","use","map","fidx","r","idx","align","tdProps","ChosenList","applyAftRes","chosenOptions","options","val_a","val_b","onFieldName","fieldname","dataKeys","valueId","label","test","doLoad","getInitialState","Headers","useCache","ajaxCache","cacheExpire","prev","forward","multiple","Chosen","Item","onTgOpen","onReloadSelf","rdrChild","BaseLoader","getStp","SelectList","harus","Select","header","defaultDeleteRequestType","defaultBaseModalTitleInsert","defaultBaseModalTitleUpdate","baseResAttr","newHeader","result","code","xhr","status","inWarning","message","msg_before","msg_after","AlertWarn","AlertError","response","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}